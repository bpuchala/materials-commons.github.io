<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mochawesome Report Card</title>
    
    <link rel="stylesheet" href="css/mochawesome.css">
  </head>
  <body>

    <!-- NAVBAR -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="report-info-cnt">
          <h1 class="report-title">materialscommons.org</h1>
          <h3 class="report-date">Thursday, August 3 2017, 01:17pm</h3>
        </div>
        <div class="nav-right">
          <div class="quick-summary-cnt">
              <ul class="list-unstyled quick-summary">
                <li class="qs-item summary-duration" title="Duration">2:27<span>M</span></li>
                <li class="qs-item summary-suites" title="Suites">66</li>
                <li class="qs-item summary-tests" title="Tests">102</li>
                <li class="qs-item summary-passes" title="Passed" data-filter="passed">92</li>
                <li class="qs-item summary-failures" title="Failed" data-filter="failed">0</li>
                <li class="qs-item summary-pending" title="Pending" data-filter="pending">10</li>
              </ul>          </div>
          <button class="nav-menu-btn open-menu"><i class="icon-menu"></i></button>
        </div>
      </div>
    </div>

    <!-- Report Summary -->
    <div class="summary">
      <div class="container">
          <div class="row">
            <div class="summary-col summary-duration">
              <h1 class="summary-count">2:27<span>M</span></h1>
              <h4 class="summary-label">M</h4>
            </div>
            <div class="summary-col summary-suites" title="Suites">
              <h1 class="summary-count">66</h1>
              <h4 class="summary-label">Suites</h4>
            </div>
            <div class="summary-col summary-tests" title="Tests">
              <h1 class="summary-count">102</h1>
              <h4 class="summary-label">Tests</h4>
            </div>
            <div class="summary-col summary-passes" data-filter="passed" title="Passed">
              <h1 class="summary-count">92</h1>
              <h4 class="summary-label">Passed</h4>
            </div>
            <div class="summary-col summary-failures" data-filter="failed" title="Failed">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Failed</h4>
            </div>
            <div class="summary-col summary-pending" data-filter="pending" title="Pending">
              <h1 class="summary-count">10</h1>
              <h4 class="summary-label">Pending</h4>
            </div>
          </div>      </div>
    </div>
    <div class="statusbar">
      <div class="container">
          <div class="row">
            <div class="status-item status-item-pending-pct">9.8% Pending</div>
            <div class="status-item status-item-passing-pct success">100% Passing</div>
          </div>      </div>
    </div>

    <!-- Suites -->
    <div class="details container">
            <section class="suite-wrap">
          <div id="273f4995-e2b3-4a38-a03b-2dd2633e7deb" class="suite has-suites">
            <h3 class="suite-title">Feature - Dataset: </h3>
            <h5 class="suite-filename">&nbsp;</h5>
        
              <section class="suite-wrap">
          <div id="c307aea1-cf8b-43f2-97cc-477d123d3000" class="suite has-tests has-pending">
            <h3 class="suite-title">DOI Request - </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/dataset-doi-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="c307aea1-cf8b-43f2-97cc-477d123d3000" class="suite-chart" width="50" height="50" data-total-passes="0" data-total-failures="0" data-total-pending="4" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">0</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">4</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#c307aea1-cf8b-43f2-97cc-477d123d3000-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="c307aea1-cf8b-43f2-97cc-477d123d3000-test-list" class="list-group test-list collapse in">
                    <div id="9d7cfbe5-2af4-4b24-b959-69b31636f3a9" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              checks DOI server status - raw
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a9180143-c8cd-4630-bcfe-cf657044f0a8" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              calls function to get DOI server status
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b9362c06-069a-4770-bea8-d254d8f88861" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              creates a test DOI - raw
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="48e549ee-9b90-419c-95e7-6bc14656ace8" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              mints a new DOI and puts into dataset record
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="e0e8150a-9879-4ef4-98cb-a40b4bba8c0b" class="suite has-suites">
            <h3 class="suite-title">Feature - dataset: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/datasets-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="bc287706-d226-4af6-9ea1-bd57965812d7" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Dataset: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/datasets-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="bc287706-d226-4af6-9ea1-bd57965812d7" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">15.643 s</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#bc287706-d226-4af6-9ea1-bd57965812d7-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="bc287706-d226-4af6-9ea1-bd57965812d7-test-list" class="list-group test-list collapse in">
                    <div id="65e9de67-da8d-4a9a-a24c-436c58059bb9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes a dataset
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#65e9de67-da8d-4a9a-a24c-436c58059bb9 > .test-code.collapse">Code</button>
              <span class="test-duration slow">4.982 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, check, dataset_list, dataset, expected_count, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context2.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> createRenamedDemoProject();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context2.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            _context2.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            check = _context2.sent;<br>                            dataset_list = check.val;<br>                            dataset = dataset_list[<span class="hljs-number">0</span>];<br>                            expected_count = dataset_list.length - <span class="hljs-number">1</span>;<br>                            assert.isFalse(dataset.published);<br>                            _context2.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.deleteDataset(dataset.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            results = _context2.sent;<br>                            assert.isTrue(results.val);<br>                            _context2.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            check = _context2.sent;<br>                            dataset_list = check.val;<br>                            assert.equal(dataset_list.length, expected_count);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f5974fa3-cb3b-4ca2-8455-403af0412ab6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              does not delete a published dataset
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f5974fa3-cb3b-4ca2-8455-403af0412ab6 > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.412 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, datasetId, expected_count, results, dataset, check, dataset_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context3.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> createRenamedDemoProject();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context3.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            <span class="hljs-comment">// publish one of the datasets</span><br>                            datasetId = datasetIdList[<span class="hljs-number">0</span>];<br>                            expected_count = datasetIdList.length;<br>                            _context3.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.publishDataset(datasetId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            results = _context3.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.val);<br>                            dataset = results.val;<br>                            assert.isOk(dataset.published);<br>                            assert.isTrue(dataset.published);<br>                            assert.equal(dataset.id, datasetId);<br>                            _context3.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDataset(datasetId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            results = _context3.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.val);<br>                            dataset = results.val;<br>                            assert.isTrue(dataset.published);<br>                            assert.isFalse(!!dataset.doi);<br>                            <span class="hljs-comment">// delete database fails</span><br>                            _context3.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.deleteDataset(datasetId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            results = _context3.sent;<br>                            assert.isFalse(results.val);<br>                            _context3.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            check = _context3.sent;<br>                            dataset_list = check.val;<br>                            assert.equal(dataset_list.length, expected_count);<br>                            _context3.next = <span class="hljs-number">39</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="00cb65dd-c9e4-4433-8bc5-c7e1803cde08" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              does not delete a dataset with an assigned DOI
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#00cb65dd-c9e4-4433-8bc5-c7e1803cde08 > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.249 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, datasetId, expected_count, fakeDOI, status, results, check, dataset_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context4.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> createRenamedDemoProject();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context4.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            <span class="hljs-comment">// fake a doi on one of the datasets</span><br>                            datasetId = datasetIdList[<span class="hljs-number">0</span>];<br>                            expected_count = datasetIdList.length;<br>                            fakeDOI = <span class="hljs-string">"fakeDOI"</span>;<br>                            _context4.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'datasets'</span>).get(datasetId).update({ doi: fakeDOI });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            status = _context4.sent;<br>                            <span class="hljs-keyword">if</span> (status.replaced != <span class="hljs-number">1</span>) {<br>                                assert.fail(<span class="hljs-string">'Update of DOI in dataset, '</span> + datasetId + <span class="hljs-string">', failed.'</span>);<br>                            }<br>                            <span class="hljs-comment">// delete database fails</span><br>                            _context4.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.deleteDataset(datasetId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            results = _context4.sent;<br>                            assert.isFalse(results.val);<br>                            _context4.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            check = _context4.sent;<br>                            dataset_list = check.val;<br>                            assert.equal(dataset_list.length, expected_count);<br>                            _context4.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="5a0a2ca5-7389-423c-828c-678f6ce9e61d" class="suite has-suites">
            <h3 class="suite-title">Feature - directories: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/directories-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="dc9e0d01-c58a-4651-b590-d5ba4ce6e760" class="suite has-tests has-passed">
            <h3 class="suite-title">Top level directory</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="dc9e0d01-c58a-4651-b590-d5ba4ce6e760" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">223 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#dc9e0d01-c58a-4651-b590-d5ba4ce6e760-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="dc9e0d01-c58a-4651-b590-d5ba4ce6e760-test-list" class="list-group test-list collapse in">
                    <div id="50e8f453-7678-43af-bdcc-5e0fc020f583" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              fetch top level directory from project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#50e8f453-7678-43af-bdcc-5e0fc020f583 > .test-code.collapse">Code</button>
              <span class="test-duration slow">147 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project, project_id, top_directory;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context2.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context2.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context2.sent;<br>                            project = ret.val;<br>                            _context2.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> projects.forUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            project_list = _context2.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, userId);<br>                            project_id = project.id;<br>                            _context2.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            top_directory = _context2.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, found_project.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d262c2b6-093e-44ad-9cf4-cec81e4bdb28" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              fetch top level directory by id
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d262c2b6-093e-44ad-9cf4-cec81e4bdb28 > .test-code.collapse">Code</button>
              <span class="test-duration slow">76 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, directory_id, directory;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context3.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context3.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context3.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context3.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context3.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project.name);<br>                            directory_id = top_directory.id;<br>                            _context3.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            directory = _context3.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="807900d9-31d7-4202-bbdd-a4bd9fbb02ce" class="suite has-tests has-passed">
            <h3 class="suite-title">Create directory</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="807900d9-31d7-4202-bbdd-a4bd9fbb02ce" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">632 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#807900d9-31d7-4202-bbdd-a4bd9fbb02ce-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="807900d9-31d7-4202-bbdd-a4bd9fbb02ce-test-list" class="list-group test-list collapse in">
                    <div id="0d2f2d7b-53fd-49da-9f6e-71f66b48a2bb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create directory path from top directory as /
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0d2f2d7b-53fd-49da-9f6e-71f66b48a2bb > .test-code.collapse">Code</button>
              <span class="test-duration slow">182 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context4.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context4.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context4.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context4.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context4.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context4.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context4.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c67fde1b-1be7-486e-bf04-b7fcf8a9fbf7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create directory path from top directory as id
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c67fde1b-1be7-486e-bf04-b7fcf8a9fbf7 > .test-code.collapse">Code</button>
              <span class="test-duration slow">210 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context5.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context5.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context5.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context5.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context5.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context5.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: top_directory.id,<br>                                path: path<br>                            };<br>                            _context5.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context5.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c09d8580-463f-4e93-952c-2401cb46a8ca" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create directory path from directory as path
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c09d8580-463f-4e93-952c-2401cb46a8ca > .test-code.collapse">Code</button>
              <span class="test-duration slow">240 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6$</span>(<span class="hljs-params">_context6</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context6.prev = _context6.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context6.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context6.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context6.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context6.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context6.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context6.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context6.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context6.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            from_dir = from_dir + path;<br>                            path = <span class="hljs-string">"D1/E1"</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context6.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            result = _context6.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1/E1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context6.stop();<br>                    }<br>                }<br>            }, _callee6, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="10e715ee-b8d6-48fa-86eb-346efe502754" class="suite has-tests has-passed">
            <h3 class="suite-title">Get directories</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="10e715ee-b8d6-48fa-86eb-346efe502754" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">741 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#10e715ee-b8d6-48fa-86eb-346efe502754-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="10e715ee-b8d6-48fa-86eb-346efe502754-test-list" class="list-group test-list collapse in">
                    <div id="680028d9-46ac-48f1-ba6e-49c29b06d26d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Get all dirs in project and test for empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#680028d9-46ac-48f1-ba6e-49c29b06d26d > .test-code.collapse">Code</button>
              <span class="test-duration slow">184 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7$</span>(<span class="hljs-params">_context7</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context7.prev = _context7.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context7.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context7.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context7.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context7.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context7.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context7.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context7.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context7.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            _context7.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            dir_list = _context7.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">4</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">3</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            _context7.t0 = assert;<br>                            _context7.next = <span class="hljs-number">36</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">0</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<br>                            _context7.t1 = _context7.sent;<br>                            _context7.t0.isFalse.call(_context7.t0, _context7.t1);<br>                            _context7.t2 = assert;<br>                            _context7.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">1</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            _context7.t3 = _context7.sent;<br>                            _context7.t2.isFalse.call(_context7.t2, _context7.t3);<br>                            _context7.t4 = assert;<br>                            _context7.next = <span class="hljs-number">46</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">2</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">46</span>:<br>                            _context7.t5 = _context7.sent;<br>                            _context7.t4.isFalse.call(_context7.t4, _context7.t5);<br>                            _context7.t6 = assert;<br>                            _context7.next = <span class="hljs-number">51</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(dir_list[<span class="hljs-number">3</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">51</span>:<br>                            _context7.t7 = _context7.sent;<br>                            _context7.t6.isTrue.call(_context7.t6, _context7.t7);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">53</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context7.stop();<br>                    }<br>                }<br>            }, _callee7, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5aac2dc1-3ebc-40ba-81a1-7bcc1a33df8b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Subdir exists and test for empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5aac2dc1-3ebc-40ba-81a1-7bcc1a33df8b > .test-code.collapse">Code</button>
              <span class="test-duration slow">157 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, directory, subdir;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8$</span>(<span class="hljs-params">_context8</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context8.prev = _context8.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context8.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context8.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context8.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context8.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context8.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context8.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context8.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context8.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            directory = dir_list[<span class="hljs-number">0</span>];<br>                            _context8.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.subdirExists(directory.id, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            result = _context8.sent;<br>                            subdir = result[<span class="hljs-number">0</span>];<br>                            assert.equal(subdir.name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(subdir.parent, directory.id);<br>                            _context8.t0 = assert;<br>                            _context8.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(directory.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            _context8.t1 = _context8.sent;<br>                            _context8.t0.isFalse.call(_context8.t0, _context8.t1);<br>                            _context8.t2 = assert;<br>                            _context8.next = <span class="hljs-number">39</span>;<br>                            <span class="hljs-keyword">return</span> directories.isEmpty(subdir.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                            _context8.t3 = _context8.sent;<br>                            _context8.t2.isTrue.call(_context8.t2, _context8.t3);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context8.stop();<br>                    }<br>                }<br>            }, _callee8, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="345d4c4e-b36c-4f42-9a85-8a730e9fe9a8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Get sub-directories as peer_directories
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#345d4c4e-b36c-4f42-9a85-8a730e9fe9a8 > .test-code.collapse">Code</button>
              <span class="test-duration slow">218 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path1, path2, path3, dir_args1, dir_args2, dir_args3, result, dir_list, directory, dir_with_subs, subs, expected, missing;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9$</span>(<span class="hljs-params">_context9</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context9.prev = _context9.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context9.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context9.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context9.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context9.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context9.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context9.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path1 = <span class="hljs-string">'A1/B1'</span>;<br>                            path2 = <span class="hljs-string">'A1/C1'</span>;<br>                            path3 = <span class="hljs-string">'A1/D1'</span>;<br>                            dir_args1 = {<br>                                from_dir: from_dir,<br>                                path: path1<br>                            };<br>                            dir_args2 = {<br>                                from_dir: from_dir,<br>                                path: path2<br>                            };<br>                            dir_args3 = {<br>                                from_dir: from_dir,<br>                                path: path3<br>                            };<br>                            _context9.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args1);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            _context9.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args2);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                            _context9.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args3);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            result = _context9.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/D1'</span>);<br>                            directory = dir_list[<span class="hljs-number">0</span>];<br>                            _context9.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> directories.peerDirectories(directory.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            dir_with_subs = _context9.sent;<br>                            assert.equal(dir_with_subs.name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_with_subs.name, directory.name);<br>                            assert.equal(dir_with_subs.id, directory.id);<br>                            assert.isTrue(dir_with_subs.hasOwnProperty(<span class="hljs-string">'peer_directories'</span>));<br>                            subs = dir_with_subs.peer_directories;<br>                            expected = [project_name + <span class="hljs-string">"/"</span> + path1, project_name + <span class="hljs-string">"/"</span> + path2, project_name + <span class="hljs-string">"/"</span> + path3];<br>                            missing = [];<br>                            expected.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target</span>) </span>{<br>                                <span class="hljs-keyword">var</span> found = <span class="hljs-literal">false</span>;<br>                                subs.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dir</span>) </span>{<br>                                    <span class="hljs-keyword">if</span> (dir.name == target) {<br>                                        found = <span class="hljs-literal">true</span>;<br>                                    }<br>                                });<br>                                <span class="hljs-keyword">if</span> (!found) missing.push(target);<br>                            });<br>                            assert.deepEqual(missing, [], <span class="hljs-string">"Should be empty list of missing expected values"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">45</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context9.stop();<br>                    }<br>                }<br>            }, _callee9, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="caeeaafa-f844-42d9-bf2a-0990109a45d3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Find in project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#caeeaafa-f844-42d9-bf2a-0990109a45d3 > .test-code.collapse">Code</button>
              <span class="test-duration slow">182 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee10</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, cross;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee10$</span>(<span class="hljs-params">_context10</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context10.prev = _context10.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context10.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context10.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context10.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context10.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context10.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context10.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context10.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context10.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">3</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            <span class="hljs-comment">// it appears from the code that case 1 does not work!</span><br>                            <span class="hljs-comment">// let dir1 = yield directories.findInProject(project_id,'','/A1/B1');</span><br>                            _context10.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.findInProject(project_id, <span class="hljs-string">''</span>, dir_list[<span class="hljs-number">1</span>].id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            cross = _context10.sent;<br>                            assert.isNotNull(cross);<br>                            assert.equal(cross.length, <span class="hljs-number">1</span>);<br>                            assert.equal(cross[<span class="hljs-number">0</span>].project_id, project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context10.stop();<br>                    }<br>                }<br>            }, _callee10, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="58030eb7-6c04-4886-b86b-7bfda8378e44" class="suite has-tests has-passed">
            <h3 class="suite-title">Modify directory</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/directories-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="58030eb7-6c04-4886-b86b-7bfda8378e44" class="suite-chart" width="50" height="50" data-total-passes="8" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">1.546 s</li>
                <li class="suite-summary-item tests">8</li>
                <li class="suite-summary-item passed">8</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#58030eb7-6c04-4886-b86b-7bfda8378e44-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="58030eb7-6c04-4886-b86b-7bfda8378e44-test-list" class="list-group test-list collapse in">
                    <div id="33bb1438-b447-4755-96bc-34df1b09ab8e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Rename leaf directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#33bb1438-b447-4755-96bc-34df1b09ab8e > .test-code.collapse">Code</button>
              <span class="test-duration slow">132 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee11</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, name, directory_id, rename_args, dir, expectedPath;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee11$</span>(<span class="hljs-params">_context11</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context11.prev = _context11.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context11.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context11.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context11.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context11.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context11.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context11.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context11.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context11.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">1</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            name = <span class="hljs-string">'XX'</span>;<br>                            directory_id = dir_list[<span class="hljs-number">0</span>].id;<br>                            rename_args = {<br>                                rename: {<br>                                    new_name: name<br>                                }<br>                            };<br>                            _context11.next = <span class="hljs-number">28</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, directory_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<br>                            _context11.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            dir = _context11.sent;<br>                            expectedPath = project_name + <span class="hljs-string">'/XX'</span>;<br>                            assert.equal(dir.path, expectedPath);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context11.stop();<br>                    }<br>                }<br>            }, _callee11, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1da42a15-fec1-411f-9870-bd6862fada50" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Move leaf directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1da42a15-fec1-411f-9870-bd6862fada50 > .test-code.collapse">Code</button>
              <span class="test-duration slow">203 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee12</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path1, path2, dir_args1, dir_args2, result, dir_list, dir1_id, dir2_id, rename_args, dir3;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee12$</span>(<span class="hljs-params">_context12</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context12.prev = _context12.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context12.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context12.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context12.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context12.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context12.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context12.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path1 = <span class="hljs-string">'A1/B1'</span>;<br>                            path2 = <span class="hljs-string">'A1/C1'</span>;<br>                            dir_args1 = {<br>                                from_dir: from_dir,<br>                                path: path1<br>                            };<br>                            dir_args2 = {<br>                                from_dir: from_dir,<br>                                path: path2<br>                            };<br>                            _context12.next = <span class="hljs-number">20</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args1);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<br>                            result = _context12.sent;<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            dir1_id = dir_list[<span class="hljs-number">1</span>].id;<br>                            _context12.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args2);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            result = _context12.sent;<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1/C1'</span>);<br>                            dir2_id = dir_list[<span class="hljs-number">1</span>].id;<br>                            rename_args = {<br>                                move: {<br>                                    new_directory_id: dir2_id<br>                                }<br>                            };<br>                            _context12.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, dir1_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            ret = _context12.sent;<br>                            dir3 = ret.val;<br>                            assert.equal(dir3.path, project_name + <span class="hljs-string">'/A1/C1/B1'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context12.stop();<br>                    }<br>                }<br>            }, _callee12, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5a158fca-c056-4a5c-b615-8eda08614a59" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Delete leaf directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5a158fca-c056-4a5c-b615-8eda08614a59 > .test-code.collapse">Code</button>
              <span class="test-duration slow">152 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee13</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, result, dir_list, directory_id, dir;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee13$</span>(<span class="hljs-params">_context13</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context13.prev = _context13.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context13.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context13.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context13.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context13.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context13.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context13.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context13.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context13.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">1</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            directory_id = dir_list[<span class="hljs-number">0</span>].id;<br>                            _context13.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            dir = _context13.sent;<br>                            assert.isNotNull(dir);<br>                            _context13.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            dir_list = _context13.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            _context13.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> directories.remove(project_id, directory_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            ret = _context13.sent;<br>                            assert.isTrue(ret.val);<br>                            _context13.next = <span class="hljs-number">38</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<br>                            dir_list = _context13.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">40</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context13.stop();<br>                    }<br>                }<br>            }, _callee13, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2d6e7c92-9dbb-411e-ad80-d608f8e99de1" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Rename interior directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2d6e7c92-9dbb-411e-ad80-d608f8e99de1 > .test-code.collapse">Code</button>
              <span class="test-duration slow">425 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee14</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, dir_list, newName, directory_id, rename_args, results, directory;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee14$</span>(<span class="hljs-params">_context14</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context14.prev = _context14.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context14.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context14.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context14.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context14.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context14.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context14.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1/D1/E1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context14.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            path = <span class="hljs-string">'A1/B1/C2'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context14.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            path = <span class="hljs-string">'A1/B1/C3'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context14.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            _context14.next = <span class="hljs-number">28</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<br>                            dir_list = _context14.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">8</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">3</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">4</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">5</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1/E1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">6</span>].name, project_name + <span class="hljs-string">'/A1/B1/C2'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">7</span>].name, project_name + <span class="hljs-string">'/A1/B1/C3'</span>);<br>                            newName = <span class="hljs-string">'XX'</span>;<br>                            directory_id = dir_list[<span class="hljs-number">2</span>].id;<br>                            rename_args = {<br>                                rename: {<br>                                    new_name: newName<br>                                }<br>                            };<br>                            path = project_name + <span class="hljs-string">"/A1/"</span> + newName;<br>                            _context14.next = <span class="hljs-number">44</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, directory_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">44</span>:<br>                            results = _context14.sent;<br>                            directory = results.val;<br>                            assert.equal(directory.path, path);<br>                            _context14.next = <span class="hljs-number">49</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">49</span>:<br>                            dir_list = _context14.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">8</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/XX'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">3</span>].name, project_name + <span class="hljs-string">'/A1/XX/C1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">4</span>].name, project_name + <span class="hljs-string">'/A1/XX/C1/D1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">5</span>].name, project_name + <span class="hljs-string">'/A1/XX/C1/D1/E1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">6</span>].name, project_name + <span class="hljs-string">'/A1/XX/C2'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">7</span>].name, project_name + <span class="hljs-string">'/A1/XX/C3'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">59</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context14.stop();<br>                    }<br>                }<br>            }, _callee14, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c7863465-8d8f-4f80-a9a5-d52097a7d475" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Move interior directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c7863465-8d8f-4f80-a9a5-d52097a7d475 > .test-code.collapse">Code</button>
              <span class="test-duration slow">333 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee15</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, from_dir, path, dir_args, dir_list, directoryA1_id, directoryB1_id, directoryC1_id, directoryD1_id, directoryE1_id, directoryC2_id, directory_id, rename_args, results, directory;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee15$</span>(<span class="hljs-params">_context15</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context15.prev = _context15.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context15.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context15.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context15.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context15.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context15.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context15.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'A1/B1/C1/D1/E1'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context15.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            path = <span class="hljs-string">'A1/B1/C2'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context15.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            _context15.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                            dir_list = _context15.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">7</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">3</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">4</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">5</span>].name, project_name + <span class="hljs-string">'/A1/B1/C1/D1/E1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">6</span>].name, project_name + <span class="hljs-string">'/A1/B1/C2'</span>);<br>                            directoryA1_id = dir_list[<span class="hljs-number">1</span>].id;<br>                            directoryB1_id = dir_list[<span class="hljs-number">2</span>].id;<br>                            directoryC1_id = dir_list[<span class="hljs-number">3</span>].id;<br>                            directoryD1_id = dir_list[<span class="hljs-number">4</span>].id;<br>                            directoryE1_id = dir_list[<span class="hljs-number">5</span>].id;<br>                            directoryC2_id = dir_list[<span class="hljs-number">6</span>].id;<br>                            directory_id = dir_list[<span class="hljs-number">3</span>].id;<br>                            rename_args = {<br>                                move: {<br>                                    new_directory_id: dir_list[<span class="hljs-number">6</span>].id<br>                                }<br>                            };<br>                            _context15.next = <span class="hljs-number">43</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, directory_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">43</span>:<br>                            results = _context15.sent;<br>                            directory = results.val;<br>                            assert.equal(directory.path, project_name + <span class="hljs-string">'/A1/B1/C2/C1'</span>);<br>                            _context15.next = <span class="hljs-number">48</span>;<br>                            <span class="hljs-keyword">return</span> directories.getAll(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">48</span>:<br>                            dir_list = _context15.sent;<br>                            assert.equal(dir_list.length, <span class="hljs-number">7</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project_name);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">'/A1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].name, project_name + <span class="hljs-string">'/A1/B1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">3</span>].name, project_name + <span class="hljs-string">'/A1/B1/C2'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">4</span>].name, project_name + <span class="hljs-string">'/A1/B1/C2/C1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">5</span>].name, project_name + <span class="hljs-string">'/A1/B1/C2/C1/D1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">6</span>].name, project_name + <span class="hljs-string">'/A1/B1/C2/C1/D1/E1'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].id, directoryA1_id);<br>                            assert.equal(dir_list[<span class="hljs-number">2</span>].id, directoryB1_id);<br>                            assert.equal(dir_list[<span class="hljs-number">3</span>].id, directoryC2_id);<br>                            assert.equal(dir_list[<span class="hljs-number">4</span>].id, directoryC1_id);<br>                            assert.equal(dir_list[<span class="hljs-number">5</span>].id, directoryD1_id);<br>                            assert.equal(dir_list[<span class="hljs-number">6</span>].id, directoryE1_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">63</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context15.stop();<br>                    }<br>                }<br>            }, _callee15, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4e93666e-e26a-4a63-b67e-e9fd4760d1de" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Can not rename top level directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4e93666e-e26a-4a63-b67e-e9fd4760d1de > .test-code.collapse">Code</button>
              <span class="test-duration slow">80 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee16</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, directory_id, name, rename_args, result;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee16$</span>(<span class="hljs-params">_context16</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context16.prev = _context16.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context16.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context16.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context16.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context16.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context16.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context16.sent;<br>                            directory_id = top_directory.id;<br>                            name = <span class="hljs-string">'XX'</span>;<br>                            rename_args = {<br>                                rename: {<br>                                    new_name: name<br>                                }<br>                            };<br>                            _context16.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, directory_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            result = _context16.sent;<br>                            assert(!!result.error);<br>                            _context16.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            top_directory = _context16.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project_name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context16.stop();<br>                    }<br>                }<br>            }, _callee16, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ce98080c-8a3a-4836-b320-c1c7944abb66" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Can not move top level directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ce98080c-8a3a-4836-b320-c1c7944abb66 > .test-code.collapse">Code</button>
              <span class="test-duration slow">142 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee17</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_id, top_directory, directory_id, from_dir, target_path, target_dir_args, result, dir_list, target_id, rename_args;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee17$</span>(<span class="hljs-params">_context17</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context17.prev = _context17.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context17.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context17.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context17.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            ret = _context17.sent;<br>                            project = ret.val;<br>                            project_id = project.id;<br>                            _context17.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context17.sent;<br>                            directory_id = top_directory.id;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            target_path = <span class="hljs-string">'NEW/LOCATION'</span>;<br>                            target_dir_args = {<br>                                from_dir: from_dir,<br>                                path: target_path<br>                            };<br>                            _context17.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project_id, project_name, target_dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            result = _context17.sent;<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project_name + <span class="hljs-string">"/"</span> + target_path);<br>                            target_id = dir_list[<span class="hljs-number">1</span>].id;<br>                            rename_args = {<br>                                move: {<br>                                    new_directory_id: target_id<br>                                }<br>                            };<br>                            _context17.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> directories.update(project_id, directory_id, rename_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            result = _context17.sent;<br>                            assert.isTrue(!!result.error);<br>                            _context17.next = <span class="hljs-number">31</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                            top_directory = _context17.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project_name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context17.stop();<br>                    }<br>                }<br>            }, _callee17, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a333466a-86e0-4fbf-9c7a-c14bd037e1d8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Can not delete top level directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a333466a-86e0-4fbf-9c7a-c14bd037e1d8 > .test-code.collapse">Code</button>
              <span class="test-duration slow">79 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee18</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, result, project, project_id, top_directory;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee18$</span>(<span class="hljs-params">_context18</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context18.prev = _context18.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context18.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context18.sent;<br>                            project_name = random_name();<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context18.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            result = _context18.sent;<br>                            project = result.val;<br>                            project_id = project.id;<br>                            _context18.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            top_directory = _context18.sent;<br>                            _context18.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> directories.remove(project_id, top_directory.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            result = _context18.sent;<br>                            assert.isTrue(!!result.error);<br>                            _context18.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project_id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            top_directory = _context18.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project_name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context18.stop();<br>                    }<br>                }<br>            }, _callee18, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="e3957e3f-34df-4005-b9df-ed411f52d9f3" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-best-mearure-history-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="124a6d4e-d7fc-41a0-ae71-8b6b78208220" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - in parts: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-best-mearure-history-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="124a6d4e-d7fc-41a0-ae71-8b6b78208220" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">26 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#124a6d4e-d7fc-41a0-ae71-8b6b78208220-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="124a6d4e-d7fc-41a0-ae71-8b6b78208220-test-list" class="list-group test-list collapse in">
                    <div id="ba4df9fa-bab8-47f1-ac97-fba564abd3a4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes best_measure_history
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ba4df9fa-bab8-47f1-ac97-fba564abd3a4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> experiment_id, idList, delete_msg;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            <span class="hljs-comment">// chain from experiment_id -&gt; property_id list through:</span><br>                            <span class="hljs-comment">//   experiment2sample - samples</span><br>                            <span class="hljs-comment">//   sample2propertyset - propertysets</span><br>                            <span class="hljs-comment">//   propertyset2property - properties</span><br>                            <span class="hljs-comment">//   best_measure_history</span><br>                            <span class="hljs-comment">// to get best_measure_history items by property_id</span><br>                            _context2.next = <span class="hljs-number">4</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2sample'</span>).getAll(experiment_id, { index: <span class="hljs-string">'experiment_id'</span> }).eqJoin(<span class="hljs-string">'sample_id'</span>, r.table(<span class="hljs-string">'samples'</span>)).zip().eqJoin(<span class="hljs-string">'sample_id'</span>, r.table(<span class="hljs-string">'sample2propertyset'</span>), { index: <span class="hljs-string">'sample_id'</span> }).zip().eqJoin(<span class="hljs-string">'property_set_id'</span>, r.table(<span class="hljs-string">'propertysets'</span>)).zip().eqJoin(<span class="hljs-string">'property_set_id'</span>, r.table(<span class="hljs-string">'propertyset2property'</span>), { index: <span class="hljs-string">'property_set_id'</span> }).zip().eqJoin(<span class="hljs-string">'property_id'</span>, r.table(<span class="hljs-string">'properties'</span>)).zip().eqJoin(<span class="hljs-string">'property_id'</span>, r.table(<span class="hljs-string">'best_measure_history'</span>), { index: <span class="hljs-string">'property_id'</span> }).zip().getField(<span class="hljs-string">'property_id'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                            idList = _context2.sent;<br>                            _context2.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'best_measure_history'</span>).getAll(r.args([].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(idList))), { index: <span class="hljs-string">'property_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            delete_msg = _context2.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="59a22eed-8a28-4bfe-9a97-3a5267312843" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-complex-delete-processes-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="e38a4ab2-ecc2-4eea-98a3-bb0d3ad5c7a9" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - complex case: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-complex-delete-processes-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="e38a4ab2-ecc2-4eea-98a3-bb0d3ad5c7a9" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">1 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#e38a4ab2-ecc2-4eea-98a3-bb0d3ad5c7a9-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="e38a4ab2-ecc2-4eea-98a3-bb0d3ad5c7a9-test-list" class="list-group test-list collapse in">
                    <div id="473a19b0-4acc-4dd9-9e43-c33f26f59813" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes all datasets, processes, samples, tasks, and links to files
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#473a19b0-4acc-4dd9-9e43-c33f26f59813 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            <span class="hljs-comment">// test that structures exist</span><br>                            <span class="hljs-comment">// experiments.delete(experiment_id, {deleteProcesses: true});</span><br>                            <span class="hljs-comment">// test that structures are deleted</span><br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="ac4c72db-db9c-4d0d-98ea-127aa69136e6" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-complex-preserve-processes-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="3e9e0eb3-7ac0-4bee-ba25-5ed4d5715cdf" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - complex case: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-complex-preserve-processes-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="3e9e0eb3-7ac0-4bee-ba25-5ed4d5715cdf" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#3e9e0eb3-7ac0-4bee-ba25-5ed4d5715cdf-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="3e9e0eb3-7ac0-4bee-ba25-5ed4d5715cdf-test-list" class="list-group test-list collapse in">
                    <div id="5d3e82cc-587a-44e9-a103-6adf5bfb61da" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes all datasets, tasks, and links to files - preserve processes, samples
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5d3e82cc-587a-44e9-a103-6adf5bfb61da > .test-code.collapse">Code</button>
              <span class="test-duration fast">0 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            <span class="hljs-comment">// test that structures exist</span><br>                            <span class="hljs-comment">// experiments.delete(experiment_id, {deleteProcesses: true});</span><br>                            <span class="hljs-comment">// test that structures are deleted</span><br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="73a5b92a-aa31-4d13-9f81-40d042bc4bea" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-datasets-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="a95b300c-68c7-4bf4-a80d-a5337cd1b66e" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - in parts: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-datasets-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="a95b300c-68c7-4bf4-a80d-a5337cd1b66e" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">147 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#a95b300c-68c7-4bf4-a80d-a5337cd1b66e-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="a95b300c-68c7-4bf4-a80d-a5337cd1b66e-test-list" class="list-group test-list collapse in">
                    <div id="24833dfe-bb08-4d66-9f22-8e0a9d4913c5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes all datasets
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#24833dfe-bb08-4d66-9f22-8e0a9d4913c5 > .test-code.collapse">Code</button>
              <span class="test-duration slow">147 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, results, dataset_list, hasPublishedDatasets, i, dataset, _i, _dataset;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context2.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            results = _context2.sent;<br>                            dataset_list = results.val;<br>                            assert.isOk(dataset_list);<br>                            assert.equal(dataset_list.length, <span class="hljs-number">2</span>);<br>                            hasPublishedDatasets = <span class="hljs-literal">false</span>;<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; dataset_list.length; i++) {<br>                                dataset = dataset_list[i];<br>                                <span class="hljs-keyword">if</span> (dataset.published) {<br>                                    hasPublishedDatasets = <span class="hljs-literal">true</span>;<br>                                }<br>                            }<br>                            assert.isFalse(hasPublishedDatasets);<br>                            _i = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            <span class="hljs-keyword">if</span> (!(_i &lt; dataset_list.length)) {<br>                                _context2.next = <span class="hljs-number">21</span>;<br>                                <span class="hljs-keyword">break</span>;<br>                            }<br>                            _dataset = dataset_list[_i];<br>                            _context2.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.deleteDataset(_dataset.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            _i++;<br>                            _context2.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            _context2.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            results = _context2.sent;<br>                            dataset_list = results.val;<br>                            assert.isOk(dataset_list);<br>                            assert.equal(dataset_list.length, <span class="hljs-number">0</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="cc84a8ea-f003-461c-a1b0-2a8bfe058a56" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-experiment-notes-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="8bc21985-7e12-43c2-8815-6b736b3a9fd4" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - basic parts: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-experiment-notes-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="8bc21985-7e12-43c2-8815-6b736b3a9fd4" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">162 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#8bc21985-7e12-43c2-8815-6b736b3a9fd4-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="8bc21985-7e12-43c2-8815-6b736b3a9fd4-test-list" class="list-group test-list collapse in">
                    <div id="90e01db7-3666-4af4-b588-4dacd7302a77" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes experiment part: experiment-notes
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#90e01db7-3666-4af4-b588-4dacd7302a77 > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> projectId, experimentId, idList, delete_msg;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-comment">// ---- experimentnote ----</span><br>                            <span class="hljs-comment">// experiment2experimentnote</span><br>                            <span class="hljs-comment">// experimentnotes</span><br>                            projectId = project.id;<br>                            assert.isOk(projectId);<br>                            experimentId = experiment.id;<br>                            assert.isOk(experimentId);<br>                            _context2.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2experimentnote'</span>).getAll(experimentId, { index: <span class="hljs-string">'experiment_id'</span> }).eqJoin(<span class="hljs-string">'experiment_note_id'</span>, r.table(<span class="hljs-string">'experimentnotes'</span>)).zip().getField(<span class="hljs-string">'experiment_note_id'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            idList = _context2.sent;<br>                            _context2.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experimentnotes'</span>).getAll(r.args([].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(idList)))).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            delete_msg = _context2.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                            _context2.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2experimentnote'</span>).getAll(experimentId, { index: <span class="hljs-string">'experiment_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            delete_msg = _context2.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="19dbdb98-6fed-4078-8da4-5bb3c949f130" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes experiment part: experiment-tasks
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#19dbdb98-6fed-4078-8da4-5bb3c949f130 > .test-code.collapse">Code</button>
              <span class="test-duration slow">82 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> projectId, experimentId, idList, taskId, task, processId, delete_msg;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            projectId = project.id;<br>                            assert.isOk(projectId);<br>                            experimentId = experiment.id;<br>                            assert.isOk(experimentId);<br>                            <span class="hljs-comment">// get taskId and processId</span><br>                            _context3.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2experimenttask'</span>).getAll(experimentId, { index: <span class="hljs-string">'experiment_id'</span> }).eqJoin(<span class="hljs-string">'experiment_task_id'</span>, r.table(<span class="hljs-string">'experimenttasks'</span>)).zip().getField(<span class="hljs-string">'experiment_task_id'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            idList = _context3.sent;<br>                            assert.isOk(idList);<br>                            assert.equal(idList.length, <span class="hljs-number">1</span>);<br>                            taskId = idList[<span class="hljs-number">0</span>];<br>                            assert.isOk(taskId);<br>                            _context3.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experimenttasks'</span>).get(taskId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            task = _context3.sent;<br>                            assert.isOk(task);<br>                            assert.isOk(task.process_id);<br>                            processId = task.process_id;<br>                            <span class="hljs-comment">// experiment2experimenttask</span><br>                            <span class="hljs-comment">// experimenttask2process</span><br>                            <span class="hljs-comment">// experimenttasks</span><br>                            <span class="hljs-comment">// processes</span><br>                            _context3.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experimenttask2process'</span>).getAll(taskId, { index: <span class="hljs-string">'experiment_task_id'</span> }).eqJoin(<span class="hljs-string">'process_id'</span>, r.table(<span class="hljs-string">'processes'</span>)).zip().getField(<span class="hljs-string">'process_id'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            idList = _context3.sent;<br>                            _context3.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'processes'</span>).getAll(r.args([].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(idList)))).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            delete_msg = _context3.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                            _context3.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experimenttask2process'</span>).getAll(taskId, { index: <span class="hljs-string">'experiment_task_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            delete_msg = _context3.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                            _context3.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2experimenttask'</span>).getAll(experimentId, { index: <span class="hljs-string">'experiment_id'</span> }).eqJoin(<span class="hljs-string">'experiment_task_id'</span>, r.table(<span class="hljs-string">'experimenttasks'</span>)).zip().getField(<span class="hljs-string">'experiment_task_id'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            idList = _context3.sent;<br>                            _context3.next = <span class="hljs-number">33</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experimenttasks'</span>).getAll(r.args([].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(idList)))).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                            delete_msg = _context3.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                            _context3.next = <span class="hljs-number">37</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2experimenttask'</span>).getAll(experimentId, { index: <span class="hljs-string">'experiment_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<br>                            delete_msg = _context3.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a2b114b3-8112-4aad-8341-91ca9115647a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes links between files and experiment
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a2b114b3-8112-4aad-8341-91ca9115647a > .test-code.collapse">Code</button>
              <span class="test-duration medium">47 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> experimentId, delete_msg;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            experimentId = experiment.id;<br>                            assert.isOk(experimentId);<br>                            _context4.next = <span class="hljs-number">4</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2datafile'</span>).getAll(experimentId, { index: <span class="hljs-string">'experiment_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                            delete_msg = _context4.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">16</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="e8795984-6644-4c9f-8a19-a0d9923d47a8" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-notes-and-reviews-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="13e14486-efa7-45e0-b959-4c2adf3897f9" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - in parts: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-notes-and-reviews-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="13e14486-efa7-45e0-b959-4c2adf3897f9" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">124 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#13e14486-efa7-45e0-b959-4c2adf3897f9-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="13e14486-efa7-45e0-b959-4c2adf3897f9-test-list" class="list-group test-list collapse in">
                    <div id="43556f2c-2648-4deb-951c-3e79ea48a4fe" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes items in notes
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#43556f2c-2648-4deb-951c-3e79ea48a4fe > .test-code.collapse">Code</button>
              <span class="test-duration medium">63 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> id_list, i, _i6, _i7, entities, noteIdSet, _i8, delete_msg;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            id_list = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; process_list.length; i++) {<br>                                id_list.push(process_list[i].id);<br>                            }<br>                            <span class="hljs-keyword">for</span> (_i6 = <span class="hljs-number">0</span>; _i6 &lt; sample_list.length; _i6++) {<br>                                id_list.push(sample_list[_i6].id);<br>                            }<br>                            <span class="hljs-keyword">for</span> (_i7 = <span class="hljs-number">0</span>; _i7 &lt; file_list.length; _i7++) {<br>                                id_list.push(file_list[_i7].id);<br>                            }<br>                            _context2.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'note2item'</span>).getAll(r.args(id_list), { index: <span class="hljs-string">'item_id'</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            entities = _context2.sent;<br>                            assert.equal(entities.length, notes_count);<br>                            noteIdSet = <span class="hljs-keyword">new</span> _set2.default();<br>                            <span class="hljs-keyword">for</span> (_i8 = <span class="hljs-number">0</span>; _i8 &lt; entities.length; _i8++) {<br>                                noteIdSet = noteIdSet.add(entities[_i8].note_id);<br>                            }<br>                            assert.equal(noteIdSet.size, <span class="hljs-number">1</span>);<br>                            _context2.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'note2item'</span>).getAll(r.args(id_list), { index: <span class="hljs-string">'item_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            delete_msg = _context2.sent;<br>                            assert.equal(delete_msg.deleted, notes_count);<br>                            _context2.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'notes'</span>).getAll(r.args([].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(noteIdSet)))).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            delete_msg = _context2.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="72539676-11dd-4642-a3ef-3a385ecff7e1" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes items in reviews
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#72539676-11dd-4642-a3ef-3a385ecff7e1 > .test-code.collapse">Code</button>
              <span class="test-duration medium">61 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> id_list, i, _i9, _i10, entities, reviewIdSet, _i11, delete_msg;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            id_list = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; process_list.length; i++) {<br>                                id_list.push(process_list[i].id);<br>                            }<br>                            <span class="hljs-keyword">for</span> (_i9 = <span class="hljs-number">0</span>; _i9 &lt; sample_list.length; _i9++) {<br>                                id_list.push(sample_list[_i9].id);<br>                            }<br>                            <span class="hljs-keyword">for</span> (_i10 = <span class="hljs-number">0</span>; _i10 &lt; file_list.length; _i10++) {<br>                                id_list.push(file_list[_i10].id);<br>                            }<br>                            _context3.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'review2item'</span>).getAll(r.args(id_list), { index: <span class="hljs-string">'item_id'</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            entities = _context3.sent;<br>                            assert.equal(entities.length, reviews_count);<br>                            reviewIdSet = <span class="hljs-keyword">new</span> _set2.default();<br>                            <span class="hljs-keyword">for</span> (_i11 = <span class="hljs-number">0</span>; _i11 &lt; entities.length; _i11++) {<br>                                reviewIdSet = reviewIdSet.add(entities[_i11].review_id);<br>                            }<br>                            assert.equal(reviewIdSet.size, <span class="hljs-number">1</span>);<br>                            _context3.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'review2item'</span>).getAll(r.args(id_list), { index: <span class="hljs-string">'item_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            delete_msg = _context3.sent;<br>                            assert.equal(delete_msg.deleted, reviews_count);<br>                            _context3.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'reviews'</span>).getAll(r.args([].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(reviewIdSet)))).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            delete_msg = _context3.sent;<br>                            assert.equal(delete_msg.deleted, <span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="5fd8a72d-59ef-4ac6-9c13-c9cb87d539f6" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-processes-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="a92f98b9-a270-4f4a-bcb2-da82e042cc14" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - in parts: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-processes-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="a92f98b9-a270-4f4a-bcb2-da82e042cc14" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">954 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#a92f98b9-a270-4f4a-bcb2-da82e042cc14-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="a92f98b9-a270-4f4a-bcb2-da82e042cc14-test-list" class="list-group test-list collapse in">
                    <div id="d6386206-edff-4f53-a85c-c9cc0700d72a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes datasets and deletes all processes and samples
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d6386206-edff-4f53-a85c-c9cc0700d72a > .test-code.collapse">Code</button>
              <span class="test-duration slow">954 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, rv, key, results, dataset_list, hasPublishedDatasets, i, dataset, _i, _dataset, _i2, _process, simple, proc_list, sampleList;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            <span class="hljs-comment">// Note: create fake sample that is not part of a process for testing</span><br>                            _context2.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'samples'</span>).insert({ <span class="hljs-string">'name'</span>: <span class="hljs-string">'fake sample'</span>, <span class="hljs-string">'otype'</span>: <span class="hljs-string">'sample'</span>, <span class="hljs-string">'owner'</span>: <span class="hljs-string">'noone'</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            rv = _context2.sent;<br>                            key = rv.generated_keys[<span class="hljs-number">0</span>];<br>                            _context2.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2sample'</span>).insert({ sample_id: key, experiment_id: experiment_id });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            _context2.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            results = _context2.sent;<br>                            dataset_list = results.val;<br>                            assert.isOk(dataset_list);<br>                            assert.equal(dataset_list.length, <span class="hljs-number">2</span>);<br>                            hasPublishedDatasets = <span class="hljs-literal">false</span>;<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; dataset_list.length; i++) {<br>                                dataset = dataset_list[i];<br>                                <span class="hljs-keyword">if</span> (dataset.published) {<br>                                    hasPublishedDatasets = <span class="hljs-literal">true</span>;<br>                                }<br>                            }<br>                            assert.isFalse(hasPublishedDatasets);<br>                            _i = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<br>                            <span class="hljs-keyword">if</span> (!(_i &lt; dataset_list.length)) {<br>                                _context2.next = <span class="hljs-number">27</span>;<br>                                <span class="hljs-keyword">break</span>;<br>                            }<br>                            _dataset = dataset_list[_i];<br>                            _context2.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.deleteDataset(_dataset.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                            _i++;<br>                            _context2.next = <span class="hljs-number">20</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            _context2.next = <span class="hljs-number">29</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:<br>                            results = _context2.sent;<br>                            dataset_list = results.val;<br>                            assert.isOk(dataset_list);<br>                            assert.equal(dataset_list.length, <span class="hljs-number">0</span>);<br>                            _i2 = process_list.length;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            <span class="hljs-keyword">if</span> (!(_i2 &gt; <span class="hljs-number">0</span>)) {<br>                                _context2.next = <span class="hljs-number">41</span>;<br>                                <span class="hljs-keyword">break</span>;<br>                            }<br>                            <span class="hljs-comment">// delete leaf-nodes first!</span><br>                            _process = process_list[_i2 - <span class="hljs-number">1</span>];<br>                            _context2.next = <span class="hljs-number">38</span>;<br>                            <span class="hljs-keyword">return</span> processes.deleteProcess(project.id, _process.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<br>                            _i2--;<br>                            _context2.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            simple = <span class="hljs-literal">true</span>;<br>                            _context2.next = <span class="hljs-number">44</span>;<br>                            <span class="hljs-keyword">return</span> experiments.getProcessesForExperiment(experiment_id, simple);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">44</span>:<br>                            results = _context2.sent;<br>                            proc_list = results.val;<br>                            assert.isOk(proc_list);<br>                            assert.equal(proc_list.length, <span class="hljs-number">0</span>);<br>                            <span class="hljs-comment">// ... but, in rare cases, there my be samples in the experiment that are in no process</span><br>                            _context2.next = <span class="hljs-number">50</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2sample'</span>).getAll(experiment_id, { index: <span class="hljs-string">'experiment_id'</span> }).eqJoin(<span class="hljs-string">'sample_id'</span>, r.table(<span class="hljs-string">'samples'</span>)).zip().getField(<span class="hljs-string">'sample_id'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">50</span>:<br>                            sampleList = _context2.sent;<br>                            _context2.next = <span class="hljs-number">53</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'samples'</span>).getAll(r.args([].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(sampleList)))).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">53</span>:<br>                            rv = _context2.sent;<br>                            assert.equal(rv.deleted, <span class="hljs-number">1</span>);<br>                            <span class="hljs-comment">// and the sample entries for the experiment are left in experiment2sample</span><br>                            _context2.next = <span class="hljs-number">57</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'experiment2sample'</span>).getAll(experiment_id, { index: <span class="hljs-string">'experiment_id'</span> }).delete();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">57</span>:<br>                            rv = _context2.sent;<br>                            assert.equal(rv.deleted, <span class="hljs-number">8</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">59</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="8f28c5de-96bc-4588-90b0-24325ebb8eeb" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-published-dataset-guard-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="32e3e6b5-685f-484b-8f2f-bb311f886f39" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment - in parts: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-published-dataset-guard-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="32e3e6b5-685f-484b-8f2f-bb311f886f39" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">632 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#32e3e6b5-685f-484b-8f2f-bb311f886f39-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="32e3e6b5-685f-484b-8f2f-bb311f886f39-test-list" class="list-group test-list collapse in">
                    <div id="ad27464b-1164-4c6c-8e0c-0e6423ee9fed" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              checks for published dataset
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ad27464b-1164-4c6c-8e0c-0e6423ee9fed > .test-code.collapse">Code</button>
              <span class="test-duration slow">632 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, results, dataset_list, dataset_id, hasPublishedDatasets, i, dataset, publishedDataset, _i, _dataset, unpublishedDataset, _i2, _dataset2;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context2.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            results = _context2.sent;<br>                            dataset_list = results.val;<br>                            assert.isOk(dataset_list);<br>                            assert.equal(dataset_list.length, <span class="hljs-number">2</span>);<br>                            dataset_id = dataset_list[<span class="hljs-number">0</span>].id;<br>                            hasPublishedDatasets = <span class="hljs-literal">false</span>;<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; dataset_list.length; i++) {<br>                                dataset = dataset_list[i];<br>                                <span class="hljs-keyword">if</span> (dataset.published) {<br>                                    hasPublishedDatasets = <span class="hljs-literal">true</span>;<br>                                }<br>                            }<br>                            assert.isFalse(hasPublishedDatasets);<br>                            _context2.next = <span class="hljs-number">16</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.publishDataset(dataset_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                            results = _context2.sent;<br>                            publishedDataset = results.val;<br>                            assert.isOk(publishedDataset);<br>                            assert.isTrue(publishedDataset.published);<br>                            _context2.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            results = _context2.sent;<br>                            dataset_list = results.val;<br>                            assert.isOk(dataset_list);<br>                            assert.equal(dataset_list.length, <span class="hljs-number">2</span>);<br>                            hasPublishedDatasets = <span class="hljs-literal">false</span>;<br>                            <span class="hljs-keyword">for</span> (_i = <span class="hljs-number">0</span>; _i &lt; dataset_list.length; _i++) {<br>                                _dataset = dataset_list[_i];<br>                                <span class="hljs-keyword">if</span> (_dataset.published) {<br>                                    hasPublishedDatasets = <span class="hljs-literal">true</span>;<br>                                }<br>                            }<br>                            assert.isTrue(hasPublishedDatasets);<br>                            _context2.next = <span class="hljs-number">31</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.unpublishDataset(dataset_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                            results = _context2.sent;<br>                            unpublishedDataset = results.val;<br>                            assert.isOk(unpublishedDataset);<br>                            assert.isFalse(unpublishedDataset.published);<br>                            _context2.next = <span class="hljs-number">37</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.getDatasetsForExperiment(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<br>                            results = _context2.sent;<br>                            dataset_list = results.val;<br>                            assert.isOk(dataset_list);<br>                            assert.equal(dataset_list.length, <span class="hljs-number">2</span>);<br>                            hasPublishedDatasets = <span class="hljs-literal">false</span>;<br>                            <span class="hljs-keyword">for</span> (_i2 = <span class="hljs-number">0</span>; _i2 &lt; dataset_list.length; _i2++) {<br>                                _dataset2 = dataset_list[_i2];<br>                                <span class="hljs-keyword">if</span> (_dataset2.published) {<br>                                    hasPublishedDatasets = <span class="hljs-literal">true</span>;<br>                                }<br>                            }<br>                            assert.isFalse(hasPublishedDatasets);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">44</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="185ae4d6-7044-4f68-a348-783920a82554" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="fa043b6a-2cbc-4deb-81c3-bf7ed219785f" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Experiment: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-delete-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="fa043b6a-2cbc-4deb-81c3-bf7ed219785f" class="suite-chart" width="50" height="50" data-total-passes="6" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">34.180 s</li>
                <li class="suite-summary-item tests">6</li>
                <li class="suite-summary-item passed">6</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#fa043b6a-2cbc-4deb-81c3-bf7ed219785f-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="fa043b6a-2cbc-4deb-81c3-bf7ed219785f-test-list" class="list-group test-list collapse in">
                    <div id="6e31e9f5-86ce-4288-8703-269ad3cc5c2e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              does not delete an experiment with a published dataset
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6e31e9f5-86ce-4288-8703-269ad3cc5c2e > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.547 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, idList, i, datasetId, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context2.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> setup();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            idList = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; datasetList.length; i++) {<br>                                idList.push(datasetList[i].id);<br>                            }<br>                            _context2.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            <span class="hljs-comment">// publish one of the datasets</span><br>                            datasetId = idList[<span class="hljs-number">0</span>];<br>                            _context2.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.publishDataset(datasetId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            results = _context2.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.val);<br>                            assert.isOk(results.val.published);<br>                            assert(results.val.published);<br>                            <span class="hljs-comment">// delete experiment - fails</span><br>                            _context2.next = <span class="hljs-number">21</span>;<br>                            <span class="hljs-keyword">return</span> experimentDelete.deleteExperiment(project_id, experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            results = _context2.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.error);<br>                            _context2.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6fc648f6-dfd0-4bb8-8f58-74a715ec718f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              does not delete an experiment with a dataset that has an assigned DOI
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6fc648f6-dfd0-4bb8-8f58-74a715ec718f > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.198 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, idList, i, datasetId, fakeDOI, status, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context3.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> setup();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            idList = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; datasetList.length; i++) {<br>                                idList.push(datasetList[i].id);<br>                            }<br>                            _context3.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            <span class="hljs-comment">// fake a doi on one of the datasets</span><br>                            datasetId = idList[<span class="hljs-number">0</span>];<br>                            fakeDOI = <span class="hljs-string">"fakeDOI"</span>;<br>                            _context3.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'datasets'</span>).get(datasetId).update({ doi: fakeDOI });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            status = _context3.sent;<br>                            <span class="hljs-keyword">if</span> (status.replaced != <span class="hljs-number">1</span>) {<br>                                assert.fail(<span class="hljs-string">'Update of DOI in dataset, '</span> + datasetId + <span class="hljs-string">', failed.'</span>);<br>                            }<br>                            <span class="hljs-comment">// delete experiment - fails</span><br>                            _context3.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> experimentDelete.deleteExperiment(project_id, experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            results = _context3.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.error);<br>                            _context3.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="27f0b131-9275-46bf-a54a-47a9839a140a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes experiment and all its parts
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#27f0b131-9275-46bf-a54a-47a9839a140a > .test-code.collapse">Code</button>
              <span class="test-duration slow">6.619 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context4.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> setup();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context4.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            _context4.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            _context4.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            _context4.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            _context4.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            _context4.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            _context4.next = <span class="hljs-number">21</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            _context4.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> experimentDelete.deleteExperiment(project_id, experiment_id, { deleteProcesses: <span class="hljs-literal">true</span>, dryRun: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            results = _context4.sent;<br>                            checkResults(results);<br>                            _context4.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> checkLinks(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            _context4.next = <span class="hljs-number">29</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:<br>                            _context4.next = <span class="hljs-number">31</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                            _context4.next = <span class="hljs-number">33</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                            _context4.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            _context4.next = <span class="hljs-number">37</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<br>                            _context4.next = <span class="hljs-number">39</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                            _context4.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="79ead680-a34a-41b0-8e87-7d5bf0e51cd5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              with deleteProcess false - deletes experiment, but not process, samples, etc.
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#79ead680-a34a-41b0-8e87-7d5bf0e51cd5 > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.831 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context5.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> setup();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context5.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            _context5.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            _context5.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            _context5.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            _context5.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            _context5.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            _context5.next = <span class="hljs-number">21</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            _context5.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> experimentDelete.deleteExperiment(project_id, experiment_id, { deleteProcesses: <span class="hljs-literal">false</span>, dryRun: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            results = _context5.sent;<br>                            checkResultsForNotDeleteProcess(results);<br>                            _context5.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> checkLinks(experiment_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            _context5.next = <span class="hljs-number">29</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:<br>                            _context5.next = <span class="hljs-number">31</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                            _context5.next = <span class="hljs-number">33</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                            _context5.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            _context5.next = <span class="hljs-number">37</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<br>                            _context5.next = <span class="hljs-number">39</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                            _context5.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">false</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d3735f8c-c5f8-4e54-b798-6b52b5e96482" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              with dry run true, delete process true - shows all will be deleted
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d3735f8c-c5f8-4e54-b798-6b52b5e96482 > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.555 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6$</span>(<span class="hljs-params">_context6</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context6.prev = _context6.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context6.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> setup();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context6.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            _context6.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            _context6.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            _context6.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            _context6.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            _context6.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            _context6.next = <span class="hljs-number">21</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            _context6.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> experimentDelete.deleteExperiment(project_id, experiment_id, { deleteProcesses: <span class="hljs-literal">true</span>, dryRun: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            results = _context6.sent;<br>                            checkResults(results);<br>                            _context6.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> checkLinks(experiment_id, { forDryRun: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            _context6.next = <span class="hljs-number">29</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:<br>                            _context6.next = <span class="hljs-number">31</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                            _context6.next = <span class="hljs-number">33</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                            _context6.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            _context6.next = <span class="hljs-number">37</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<br>                            _context6.next = <span class="hljs-number">39</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                            _context6.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context6.stop();<br>                    }<br>                }<br>            }, _callee6, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="07a6c21e-7f99-471f-80ae-2bbcc6fc5fa7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              with dry run true, delete process false - shows some will be deleted
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#07a6c21e-7f99-471f-80ae-2bbcc6fc5fa7 > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.430 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7$</span>(<span class="hljs-params">_context7</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context7.prev = _context7.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context7.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> setup();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context7.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            _context7.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            _context7.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            _context7.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            _context7.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            _context7.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            _context7.next = <span class="hljs-number">21</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            _context7.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> experimentDelete.deleteExperiment(project_id, experiment_id, { deleteProcesses: <span class="hljs-literal">false</span>, dryRun: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            results = _context7.sent;<br>                            checkResultsForNotDeleteProcess(results);<br>                            _context7.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> checkLinks(experiment_id, { forDryRun: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            _context7.next = <span class="hljs-number">29</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:<br>                            _context7.next = <span class="hljs-number">31</span>;<br>                            <span class="hljs-keyword">return</span> testBestMearureHistroy({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                            _context7.next = <span class="hljs-number">33</span>;<br>                            <span class="hljs-keyword">return</span> testProcessesSamples({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                            _context7.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentNotes({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            _context7.next = <span class="hljs-number">37</span>;<br>                            <span class="hljs-keyword">return</span> testExperimentTasks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<br>                            _context7.next = <span class="hljs-number">39</span>;<br>                            <span class="hljs-keyword">return</span> testFileLinks({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                            _context7.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> testNotesAndReviews({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context7.stop();<br>                    }<br>                }<br>            }, _callee7, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="8eeb135b-5554-4aeb-b806-5a8f7ed69f92" class="suite has-suites">
            <h3 class="suite-title">Feature - Experiments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="11b90a72-ee4f-4fc7-99d1-8155cd675aeb" class="suite has-tests has-pending">
            <h3 class="suite-title">Function level</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/experiments-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="11b90a72-ee4f-4fc7-99d1-8155cd675aeb" class="suite-chart" width="50" height="50" data-total-passes="0" data-total-failures="0" data-total-pending="1" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">0</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">1</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#11b90a72-ee4f-4fc7-99d1-8155cd675aeb-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="11b90a72-ee4f-4fc7-99d1-8155cd675aeb-test-list" class="list-group test-list collapse in">
                    <div id="b065fbc3-f3e6-4417-aeb7-2b8ca71bab36" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              individual test level
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="bdcf6f0e-8cfc-431f-8efe-a3daa5ff8a2b" class="suite has-suites">
            <h3 class="suite-title">Feature - Files: </h3>
            <h5 class="suite-filename">&nbsp;</h5>
        
              <section class="suite-wrap">
          <div id="042222f8-f54a-4907-bab3-a269a10f82d6" class="suite has-tests has-pending">
            <h3 class="suite-title">Delete</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-delete-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="042222f8-f54a-4907-bab3-a269a10f82d6" class="suite-chart" width="50" height="50" data-total-passes="0" data-total-failures="0" data-total-pending="2" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">0</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">2</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#042222f8-f54a-4907-bab3-a269a10f82d6-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="042222f8-f54a-4907-bab3-a269a10f82d6-test-list" class="list-group test-list collapse in">
                    <div id="87686b0c-c945-4a00-ad30-390b90cd9141" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Will delete a file that has the uses id set
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="48e56176-b00e-4d30-9050-8c13cd75dd18" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              Will delete a file but keep physical file when needed
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="15552105-fc0e-4480-b273-68810da4cd66" class="suite has-suites">
            <h3 class="suite-title">Feature - Files: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="b8dbce0c-a541-43ed-9b64-fd4758286841" class="suite has-tests has-passed">
            <h3 class="suite-title">Get File Information</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="b8dbce0c-a541-43ed-9b64-fd4758286841" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">483 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#b8dbce0c-a541-43ed-9b64-fd4758286841-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="b8dbce0c-a541-43ed-9b64-fd4758286841-test-list" class="list-group test-list collapse in">
                    <div id="2aa1f5fc-9ead-4fa3-b9f2-fad6754b6573" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              get by id
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2aa1f5fc-9ead-4fa3-b9f2-fad6754b6573 > .test-code.collapse">Code</button>
              <span class="test-duration slow">77 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> file, fileId, fetchedFile;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">0</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            file = _context2.sent;<br>                            assert.isOk(file);<br>                            assert.equal(file.owner, userId);<br>                            fileId = file.id;<br>                            _context2.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> files.get(fileId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            fetchedFile = _context2.sent;<br>                            assert.equal(file.id, fetchedFile.id);<br>                            assert.equal(file.name, fetchedFile.name);<br>                            assert.equal(file.owner, fetchedFile.owner);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="67053660-deb5-45ce-bb72-4fbec6745faa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              get by checksum
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#67053660-deb5-45ce-bb72-4fbec6745faa > .test-code.collapse">Code</button>
              <span class="test-duration slow">143 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> file, checksum, results, fetchedFileList, target;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">1</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            file = _context3.sent;<br>                            assert.isOk(file);<br>                            assert.equal(file.owner, userId);<br>                            checksum = file.checksum;<br>                            _context3.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> files.getAllByChecksum(checksum);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            results = _context3.sent;<br>                            assert.isOk(results);<br>                            fetchedFileList = [].concat((<span class="hljs-number">0</span>, _toConsumableArray3.default)(results));<br>                            assert.isOk(fetchedFileList);<br>                            target = <span class="hljs-literal">null</span>;<br>                            fetchedFileList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">foundFile</span>) </span>{<br>                                assert.equal(foundFile.owner, userId);<br>                                <span class="hljs-keyword">if</span> (foundFile.id === file.id) {<br>                                    target = foundFile;<br>                                }<br>                            });<br>                            assert.isOk(target);<br>                            assert.equal(file.id, target.id);<br>                            assert.equal(file.name, target.name);<br>                            assert.equal(file.owner, target.owner);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fc6b2f54-5abd-4b52-9578-68202139de15" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              get by id list
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fc6b2f54-5abd-4b52-9578-68202139de15 > .test-code.collapse">Code</button>
              <span class="test-duration slow">88 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> file1, file2, idList, fileList;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">1</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            file1 = _context4.sent;<br>                            assert.isOk(file1);<br>                            assert.equal(file1.owner, userId);<br>                            _context4.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">2</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            file2 = _context4.sent;<br>                            assert.isOk(file2);<br>                            assert.equal(file2.owner, userId);<br>                            idList = [file1.id, file2.id];<br>                            _context4.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> files.getList(project.id, idList);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            fileList = _context4.sent;<br>                            assert.isOk(fileList);<br>                            assert.equal(fileList.length, <span class="hljs-number">2</span>);<br>                            fileList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">file</span>) </span>{<br>                                <span class="hljs-keyword">var</span> found = idList.indexOf(file.id) &gt; -<span class="hljs-number">1</span>;<br>                                assert(found, <span class="hljs-string">'failed to find file '</span> + file.name + <span class="hljs-string">' in query results'</span>);<br>                            });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4fece870-789f-4a08-8c33-91593a762b59" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              get by file path in project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4fece870-789f-4a08-8c33-91593a762b59 > .test-code.collapse">Code</button>
              <span class="test-duration slow">175 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> file, top_directory, from_dir, path, dir_args, result, dir_list, targetDir, updateArgs, probe, filePath, valOrError;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context5.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">4</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            file = _context5.sent;<br>                            assert.isOk(file);<br>                            assert.equal(file.owner, userId);<br>                            _context5.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project.id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            top_directory = _context5.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'SubDir/AnotherDir'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context5.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project.id, project.name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            result = _context5.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project.name + <span class="hljs-string">'/SubDir'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project.name + <span class="hljs-string">'/SubDir/AnotherDir'</span>);<br>                            targetDir = dir_list[<span class="hljs-number">1</span>];<br>                            updateArgs = {<br>                                move: {<br>                                    new_directory_id: targetDir.id,<br>                                    old_directory_id: top_directory.id<br>                                }<br>                            };<br>                            _context5.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> files.update(file.id, project.id, user, updateArgs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            _context5.next = <span class="hljs-number">25</span>;<br>                            <span class="hljs-keyword">return</span> directories.fileInDirectoryByName(targetDir.id, file.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                            probe = _context5.sent;<br>                            assert.isOk(probe);<br>                            assert.equal(probe.owner, userId);<br>                            assert.equal(probe.id, file.id);<br>                            filePath = project.name + <span class="hljs-string">"/"</span> + path + <span class="hljs-string">"/"</span> + file.name;<br>                            _context5.next = <span class="hljs-number">32</span>;<br>                            <span class="hljs-keyword">return</span> files.byPath(project.id, filePath);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">32</span>:<br>                            valOrError = _context5.sent;<br>                            assert.isOk(valOrError);<br>                            probe = valOrError.val;<br>                            assert.isOk(probe);<br>                            assert.equal(probe.owner, userId);<br>                            assert.equal(probe.id, file.id);<br>                            filePath = <span class="hljs-string">"bogas"</span> + <span class="hljs-string">"/"</span> + path + <span class="hljs-string">"/"</span> + file.name;<br>                            _context5.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> files.byPath(project.id, filePath);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            valOrError = _context5.sent;<br>                            assert.isOk(valOrError);<br>                            assert.isOk(valOrError.error);<br>                            assert.equal(valOrError.error, <span class="hljs-string">'No matching file'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">45</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="c8e0ffdc-4082-4d32-bc14-78b72055a484" class="suite has-tests has-passed">
            <h3 class="suite-title">File Update</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="c8e0ffdc-4082-4d32-bc14-78b72055a484" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">222 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#c8e0ffdc-4082-4d32-bc14-78b72055a484-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="c8e0ffdc-4082-4d32-bc14-78b72055a484-test-list" class="list-group test-list collapse in">
                    <div id="b0314d9f-7d28-4590-933c-78af6ca6f0b8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              will rename a file
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b0314d9f-7d28-4590-933c-78af6ca6f0b8 > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> newName, oldName, file, updateArgs, valOrError, probe;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6$</span>(<span class="hljs-params">_context6</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context6.prev = _context6.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            newName = <span class="hljs-string">'Another name for photo.jpg'</span>;<br>                            oldName = <span class="hljs-string">'L124_photo.jpg'</span>;<br>                            _context6.next = <span class="hljs-number">4</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">1</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                            file = _context6.sent;<br>                            assert.isOk(file);<br>                            assert.equal(file.owner, userId);<br>                            assert.equal(file.name, oldName);<br>                            updateArgs = {<br>                                name: newName<br>                            };<br>                            _context6.next = <span class="hljs-number">11</span>;<br>                            <span class="hljs-keyword">return</span> files.update(file.id, project.id, user, updateArgs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:<br>                            valOrError = _context6.sent;<br>                            assert.isOk(valOrError);<br>                            assert.isOk(valOrError.val);<br>                            probe = valOrError.val;<br>                            assert.isOk(probe);<br>                            assert.equal(probe.owner, userId);<br>                            assert.equal(probe.name, newName);<br>                            assert.equal(probe.id, file.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context6.stop();<br>                    }<br>                }<br>            }, _callee6, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="31788288-82f4-4aa6-9c87-b36b0f1a21b9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              will not let you rename a file to a name in use
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#31788288-82f4-4aa6-9c87-b36b0f1a21b9 > .test-code.collapse">Code</button>
              <span class="test-duration slow">89 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> newName, oldName, file, anotherFile, updateArgs, valOrError, message;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7$</span>(<span class="hljs-params">_context7</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context7.prev = _context7.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            newName = <span class="hljs-string">'Another name for photo.jpg'</span>;<br>                            oldName = <span class="hljs-string">'L124_photo.jpg'</span>;<br>                            _context7.next = <span class="hljs-number">4</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">1</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                            file = _context7.sent;<br>                            assert.isOk(file);<br>                            assert.equal(file.owner, userId);<br>                            assert.equal(file.name, oldName);<br>                            _context7.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">2</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            anotherFile = _context7.sent;<br>                            assert.isOk(anotherFile);<br>                            assert.equal(anotherFile.owner, userId);<br>                            newName = anotherFile.name;<br>                            updateArgs = {<br>                                name: newName<br>                            };<br>                            _context7.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> files.update(file.id, project.id, user, updateArgs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            valOrError = _context7.sent;<br>                            assert.isOk(valOrError);<br>                            assert.isOk(valOrError.error, <span class="hljs-string">"Expected an error return"</span>);<br>                            message = <span class="hljs-string">'Unexpected error message: '</span> + valOrError.error;<br>                            assert(valOrError.error.indexOf(<span class="hljs-string">"already exists"</span>) &gt; -<span class="hljs-number">1</span>, message);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context7.stop();<br>                    }<br>                }<br>            }, _callee7, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="44656d86-591a-40d6-a708-8983b4f140c7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              will change the description of a file
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#44656d86-591a-40d6-a708-8983b4f140c7 > .test-code.collapse">Code</button>
              <span class="test-duration medium">41 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> description, file, updateArgs, valOrError, probe;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8$</span>(<span class="hljs-params">_context8</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context8.prev = _context8.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            description = <span class="hljs-string">'This is a test description - '</span> + project.name;<br>                            _context8.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">1</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            file = _context8.sent;<br>                            assert.isOk(file);<br>                            assert.equal(file.owner, userId);<br>                            updateArgs = {<br>                                description: description<br>                            };<br>                            _context8.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> files.update(file.id, project.id, user, updateArgs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            valOrError = _context8.sent;<br>                            assert.isOk(valOrError);<br>                            assert.isOk(valOrError.val);<br>                            probe = valOrError.val;<br>                            assert.isOk(probe);<br>                            assert.equal(probe.owner, userId);<br>                            assert.equal(probe.id, file.id);<br>                            assert(probe.description !== file.description);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context8.stop();<br>                    }<br>                }<br>            }, _callee8, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7ff53b74-0964-4ff7-a1cb-db78c3718513" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              will move a file
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7ff53b74-0964-4ff7-a1cb-db78c3718513 > .test-code.collapse">Code</button>
              <span class="test-duration medium">50 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> file, top_directory, from_dir, path, dir_args, result, dir_list, targetDir, updateArgs, probe;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9$</span>(<span class="hljs-params">_context9</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context9.prev = _context9.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context9.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">2</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            file = _context9.sent;<br>                            assert.isOk(file);<br>                            assert.equal(file.owner, userId);<br>                            _context9.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project.id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            top_directory = _context9.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'SubDir/AnotherDir'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context9.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project.id, project.name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            result = _context9.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project.name + <span class="hljs-string">'/SubDir'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project.name + <span class="hljs-string">'/SubDir/AnotherDir'</span>);<br>                            targetDir = dir_list[<span class="hljs-number">1</span>];<br>                            updateArgs = {<br>                                move: {<br>                                    new_directory_id: targetDir.id,<br>                                    old_directory_id: top_directory.id<br>                                }<br>                            };<br>                            _context9.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> files.update(file.id, project.id, user, updateArgs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            _context9.next = <span class="hljs-number">25</span>;<br>                            <span class="hljs-keyword">return</span> directories.fileInDirectoryByName(targetDir.id, file.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">25</span>:<br>                            probe = _context9.sent;<br>                            assert.isOk(probe);<br>                            assert.equal(probe.owner, userId);<br>                            assert.equal(probe.id, file.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">29</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context9.stop();<br>                    }<br>                }<br>            }, _callee9, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="f7fae093-378f-4208-9a4d-95a9e8eeaf8f" class="suite has-suites">
            <h3 class="suite-title">Feature - Files: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-version-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="5710bd7b-a319-4143-a7a0-8bbc5a6e31d5" class="suite has-tests has-passed">
            <h3 class="suite-title">Versioning</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-version-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="5710bd7b-a319-4143-a7a0-8bbc5a6e31d5" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">293 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#5710bd7b-a319-4143-a7a0-8bbc5a6e31d5-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="5710bd7b-a319-4143-a7a0-8bbc5a6e31d5-test-list" class="list-group test-list collapse in">
                    <div id="a53aad33-a1ae-49e5-a0ca-c820852296f4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              supports different versions of the file - same directory
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a53aad33-a1ae-49e5-a0ca-c820852296f4 > .test-code.collapse">Code</button>
              <span class="test-duration slow">293 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> file1, file2, file3, fileWithVersion, otherVersion, versions, probe;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">1</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            file1 = _context2.sent;<br>                            assert.isOk(file1);<br>                            assert.equal(file1.owner, userId);<br>                            <span class="hljs-comment">// create faked version of file</span><br>                            _context2.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">2</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            file2 = _context2.sent;<br>                            assert.isOk(file2);<br>                            assert.equal(file2.owner, userId);<br>                            _context2.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">3</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            file3 = _context2.sent;<br>                            assert.isOk(file3);<br>                            assert.equal(file3.owner, userId);<br>                            _context2.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> files.pushVersion(file2, file1);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            fileWithVersion = _context2.sent;<br>                            assert.isOk(fileWithVersion);<br>                            assert.equal(fileWithVersion.id, file2.id);<br>                            assert.isOk(fileWithVersion.parent);<br>                            assert.equal(fileWithVersion.parent, file1.id);<br>                            _context2.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> files.get(fileWithVersion.parent);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                            otherVersion = _context2.sent;<br>                            assert.isOk(otherVersion);<br>                            assert.equal(otherVersion.id, file1.id);<br>                            assert.isFalse(otherVersion.current);<br>                            assert.isTrue(fileWithVersion.current);<br>                            _context2.next = <span class="hljs-number">31</span>;<br>                            <span class="hljs-keyword">return</span> files.pushVersion(file3, file2);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                            fileWithVersion = _context2.sent;<br>                            assert.isOk(fileWithVersion);<br>                            assert.equal(fileWithVersion.id, file3.id);<br>                            assert.isOk(fileWithVersion.parent);<br>                            assert.equal(fileWithVersion.parent, file2.id);<br>                            _context2.next = <span class="hljs-number">38</span>;<br>                            <span class="hljs-keyword">return</span> files.get(fileWithVersion.parent);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<br>                            otherVersion = _context2.sent;<br>                            assert.isOk(otherVersion);<br>                            assert.equal(otherVersion.id, file2.id);<br>                            assert.isFalse(otherVersion.current);<br>                            assert.isTrue(fileWithVersion.current);<br>                            _context2.next = <span class="hljs-number">45</span>;<br>                            <span class="hljs-keyword">return</span> files.getVersions(fileWithVersion.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">45</span>:<br>                            versions = _context2.sent;<br>                            assert.isOk(versions);<br>                            assert.isOk(versions.val);<br>                            probe = versions.val;<br>                            assert.equal(probe.length, <span class="hljs-number">2</span>, <span class="hljs-string">"Some versions of the file are missing"</span>);<br>                            assert.equal(probe[<span class="hljs-number">0</span>].id, file2.id);<br>                            assert.equal(probe[<span class="hljs-number">1</span>].id, file1.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">52</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="792da77b-ed17-437d-9b9a-332e5640f1d3" class="suite has-suites">
            <h3 class="suite-title">Feature - Files: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-version-special-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="fd12e689-51f0-4fee-ad4f-99ed5b35cf32" class="suite has-tests has-passed">
            <h3 class="suite-title">Versioning</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/files-version-special-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="fd12e689-51f0-4fee-ad4f-99ed5b35cf32" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">399 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#fd12e689-51f0-4fee-ad4f-99ed5b35cf32-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="fd12e689-51f0-4fee-ad4f-99ed5b35cf32-test-list" class="list-group test-list collapse in">
                    <div id="db7efabd-5eca-4a91-be44-37f8bcc100f6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              supports different versions of the file - different directories
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#db7efabd-5eca-4a91-be44-37f8bcc100f6 > .test-code.collapse">Code</button>
              <span class="test-duration slow">399 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> file1, file2, file3, top_directory, from_dir, path, dir_args, result, dir_list, targetDir, updateArgs, fileProbe, fileWithVersion, otherVersion, versions, probe;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">1</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            file1 = _context2.sent;<br>                            assert.isOk(file1);<br>                            assert.equal(file1.owner, userId);<br>                            _context2.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">2</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            file2 = _context2.sent;<br>                            assert.isOk(file2);<br>                            assert.equal(file2.owner, userId);<br>                            _context2.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createFileFromDemoFileSet(project, <span class="hljs-number">3</span>, user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            file3 = _context2.sent;<br>                            assert.isOk(file3);<br>                            assert.equal(file3.owner, userId);<br>                            <span class="hljs-comment">// file 2 moved to a different directory</span><br>                            _context2.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project.id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            top_directory = _context2.sent;<br>                            from_dir = <span class="hljs-string">'/'</span>;<br>                            path = <span class="hljs-string">'SubDir/AnotherDir'</span>;<br>                            dir_args = {<br>                                from_dir: from_dir,<br>                                path: path<br>                            };<br>                            _context2.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> directories.create(project.id, project.name, dir_args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            result = _context2.sent;<br>                            assert.isTrue(result.hasOwnProperty(<span class="hljs-string">'val'</span>));<br>                            dir_list = result.val;<br>                            assert.equal(dir_list.length, <span class="hljs-number">2</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">0</span>].name, project.name + <span class="hljs-string">'/SubDir'</span>);<br>                            assert.equal(dir_list[<span class="hljs-number">1</span>].name, project.name + <span class="hljs-string">'/SubDir/AnotherDir'</span>);<br>                            targetDir = dir_list[<span class="hljs-number">1</span>];<br>                            updateArgs = {<br>                                move: {<br>                                    new_directory_id: targetDir.id,<br>                                    old_directory_id: top_directory.id<br>                                }<br>                            };<br>                            _context2.next = <span class="hljs-number">33</span>;<br>                            <span class="hljs-keyword">return</span> files.update(file2.id, project.id, user, updateArgs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                            _context2.next = <span class="hljs-number">35</span>;<br>                            <span class="hljs-keyword">return</span> directories.fileInDirectoryByName(targetDir.id, file2.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">35</span>:<br>                            fileProbe = _context2.sent;<br>                            assert.isOk(fileProbe);<br>                            assert.equal(fileProbe.owner, userId);<br>                            assert.equal(fileProbe.id, file2.id);<br>                            <span class="hljs-comment">// create faked versions of file3</span><br>                            _context2.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> files.pushVersion(file2, file1);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            fileWithVersion = _context2.sent;<br>                            assert.isOk(fileWithVersion);<br>                            assert.equal(fileWithVersion.id, file2.id);<br>                            assert.isOk(fileWithVersion.parent);<br>                            assert.equal(fileWithVersion.parent, file1.id);<br>                            _context2.next = <span class="hljs-number">48</span>;<br>                            <span class="hljs-keyword">return</span> files.get(fileWithVersion.parent);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">48</span>:<br>                            otherVersion = _context2.sent;<br>                            assert.isOk(otherVersion);<br>                            assert.equal(otherVersion.id, file1.id);<br>                            assert.isFalse(otherVersion.current);<br>                            assert.isTrue(fileWithVersion.current);<br>                            _context2.next = <span class="hljs-number">55</span>;<br>                            <span class="hljs-keyword">return</span> files.pushVersion(file3, file2);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">55</span>:<br>                            fileWithVersion = _context2.sent;<br>                            assert.isOk(fileWithVersion);<br>                            assert.equal(fileWithVersion.id, file3.id);<br>                            assert.isOk(fileWithVersion.parent);<br>                            assert.equal(fileWithVersion.parent, file2.id);<br>                            _context2.next = <span class="hljs-number">62</span>;<br>                            <span class="hljs-keyword">return</span> files.get(fileWithVersion.parent);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">62</span>:<br>                            otherVersion = _context2.sent;<br>                            assert.isOk(otherVersion);<br>                            assert.equal(otherVersion.id, file2.id);<br>                            assert.isFalse(otherVersion.current);<br>                            assert.isTrue(fileWithVersion.current);<br>                            <span class="hljs-comment">// versions are still available</span><br>                            _context2.next = <span class="hljs-number">69</span>;<br>                            <span class="hljs-keyword">return</span> files.getVersions(fileWithVersion.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">69</span>:<br>                            versions = _context2.sent;<br>                            assert.isOk(versions);<br>                            assert.isOk(versions.val);<br>                            probe = versions.val;<br>                            assert.equal(probe.length, <span class="hljs-number">2</span>, <span class="hljs-string">"Some versions of the file are missing"</span>);<br>                            assert.equal(probe[<span class="hljs-number">0</span>].id, file2.id);<br>                            assert.equal(probe[<span class="hljs-number">1</span>].id, file1.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">76</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="de24c4ae-d74c-40a4-bd7d-2ef0785bbb7d" class="suite has-suites">
            <h3 class="suite-title">Feature - Measurments: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/measurements-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="15b33842-9fdb-4bd6-8db4-f2c40443ad0a" class="suite has-tests has-pending">
            <h3 class="suite-title">Function level</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/measurements-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="15b33842-9fdb-4bd6-8db4-f2c40443ad0a" class="suite-chart" width="50" height="50" data-total-passes="0" data-total-failures="0" data-total-pending="1" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">0</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">1</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#15b33842-9fdb-4bd6-8db4-f2c40443ad0a-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="15b33842-9fdb-4bd6-8db4-f2c40443ad0a-test-list" class="list-group test-list collapse in">
                    <div id="2ca1acb2-a4d4-4527-ae41-87d70b7de4e9" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              individual test level
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="01dc5dbb-61dc-4cdf-9277-01ea9478bac8" class="suite has-suites">
            <h3 class="suite-title">Feature - Processes: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/processes-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="64a0d1f1-b03c-4b3f-959e-30f3ed614c20" class="suite has-tests has-passed">
            <h3 class="suite-title">Function level</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/processes-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="64a0d1f1-b03c-4b3f-959e-30f3ed614c20" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">2.436 s</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#64a0d1f1-b03c-4b3f-959e-30f3ed614c20-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="64a0d1f1-b03c-4b3f-959e-30f3ed614c20-test-list" class="list-group test-list collapse in">
                    <div id="a841dc2d-f6b6-41d9-b0e8-cbd0073f1a1d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              creates a process
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a841dc2d-f6b6-41d9-b0e8-cbd0073f1a1d > .test-code.collapse">Code</button>
              <span class="test-duration slow">261 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> ret, experiment, process;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createExperiment(project, <span class="hljs-string">"Create Process Experiment"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            ret = _context2.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            experiment = ret.val;<br>                            assert.isOk(experiment);<br>                            assert.equal(experiment.owner, user.id);<br>                            _context2.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createProcess(project, experiment, <span class="hljs-string">"Test Create Sample Process"</span>, <span class="hljs-string">'global_Create Samples'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            ret = _context2.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            process = ret.val;<br>                            assert.isOk(process);<br>                            assert.equal(process.owner, user.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5d3c172f-0020-476f-893e-fbc200d36a59" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              creates two processes linked by sample 
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5d3c172f-0020-476f-893e-fbc200d36a59 > .test-code.collapse">Code</button>
              <span class="test-duration slow">678 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> ret, experiment, create_sample_process, sample, measurement_process;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createExperiment(project, <span class="hljs-string">"Two Processes Experiment"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            ret = _context3.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            experiment = ret.val;<br>                            assert.isOk(experiment);<br>                            assert.equal(experiment.owner, user.id);<br>                            _context3.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createProcess(project, experiment, <span class="hljs-string">"Test Create Sample Process"</span>, <span class="hljs-string">'global_Create Samples'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            ret = _context3.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            create_sample_process = ret.val;<br>                            assert.isOk(create_sample_process);<br>                            assert.equal(create_sample_process.owner, user.id);<br>                            _context3.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createSamples(project, experiment, create_sample_process, [<span class="hljs-string">'Test Sample'</span>]);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            ret = _context3.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            assert.isOk(ret.val.samples);<br>                            assert.equal(ret.val.samples.length, <span class="hljs-number">1</span>);<br>                            sample = ret.val.samples[<span class="hljs-number">0</span>];<br>                            _context3.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createProcess(project, experiment, <span class="hljs-string">"Test Create Sample Process"</span>, <span class="hljs-string">'global_SEM'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            ret = _context3.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            measurement_process = ret.val;<br>                            assert.isOk(measurement_process);<br>                            assert.equal(measurement_process.owner, user.id);<br>                            _context3.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.addSamplesToProcess(project, experiment, measurement_process, [sample]);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            ret = _context3.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            assert.equal(ret.val.owner, user.id);<br>                            assert.equal(ret.val.id, measurement_process.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="72c75ecf-9cfb-46dd-884c-20437961efb8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes two processes leaf first
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#72c75ecf-9cfb-46dd-884c-20437961efb8 > .test-code.collapse">Code</button>
              <span class="test-duration slow">841 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> ret, experiment, create_sample_process, sample, measurement_process;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createExperiment(project, <span class="hljs-string">"Two Processes Delete Experiment"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            ret = _context4.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            experiment = ret.val;<br>                            assert.isOk(experiment);<br>                            assert.equal(experiment.owner, user.id);<br>                            _context4.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createProcess(project, experiment, <span class="hljs-string">"Test Create Sample Process"</span>, <span class="hljs-string">'global_Create Samples'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            ret = _context4.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            create_sample_process = ret.val;<br>                            assert.isOk(create_sample_process);<br>                            assert.equal(create_sample_process.owner, user.id);<br>                            _context4.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createSamples(project, experiment, create_sample_process, [<span class="hljs-string">'Test Sample'</span>]);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            ret = _context4.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            assert.isOk(ret.val.samples);<br>                            assert.equal(ret.val.samples.length, <span class="hljs-number">1</span>);<br>                            sample = ret.val.samples[<span class="hljs-number">0</span>];<br>                            _context4.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createProcess(project, experiment, <span class="hljs-string">"Test Create Sample Process"</span>, <span class="hljs-string">'global_SEM'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            ret = _context4.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            measurement_process = ret.val;<br>                            assert.isOk(measurement_process);<br>                            assert.equal(measurement_process.owner, user.id);<br>                            _context4.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.addSamplesToProcess(project, experiment, measurement_process, [sample]);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            ret = _context4.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            assert.equal(ret.val.owner, user.id);<br>                            assert.equal(ret.val.id, measurement_process.id);<br>                            _context4.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> processes.deleteProcess(project.id, measurement_process.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            ret = _context4.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            _context4.next = <span class="hljs-number">46</span>;<br>                            <span class="hljs-keyword">return</span> processes.deleteProcess(project.id, create_sample_process.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">46</span>:<br>                            ret = _context4.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">49</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="172c0b29-860b-4d29-88f1-08170abb7410" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              does not allow deleting non-leaf nodes
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#172c0b29-860b-4d29-88f1-08170abb7410 > .test-code.collapse">Code</button>
              <span class="test-duration slow">656 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> ret, experiment, create_sample_process, sample, measurement_process;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context5.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createExperiment(project, <span class="hljs-string">"Two Processes Delete Experiment"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            ret = _context5.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            experiment = ret.val;<br>                            assert.isOk(experiment);<br>                            assert.equal(experiment.owner, user.id);<br>                            _context5.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createProcess(project, experiment, <span class="hljs-string">"Test Create Sample Process"</span>, <span class="hljs-string">'global_Create Samples'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            ret = _context5.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            create_sample_process = ret.val;<br>                            assert.isOk(create_sample_process);<br>                            assert.equal(create_sample_process.owner, user.id);<br>                            _context5.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createSamples(project, experiment, create_sample_process, [<span class="hljs-string">'Test Sample'</span>]);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            ret = _context5.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            assert.isOk(ret.val.samples);<br>                            assert.equal(ret.val.samples.length, <span class="hljs-number">1</span>);<br>                            sample = ret.val.samples[<span class="hljs-number">0</span>];<br>                            _context5.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.createProcess(project, experiment, <span class="hljs-string">"Test Create Sample Process"</span>, <span class="hljs-string">'global_SEM'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            ret = _context5.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            measurement_process = ret.val;<br>                            assert.isOk(measurement_process);<br>                            assert.equal(measurement_process.owner, user.id);<br>                            _context5.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> testHelpers.addSamplesToProcess(project, experiment, measurement_process, [sample]);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            ret = _context5.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.val);<br>                            assert.equal(ret.val.owner, user.id);<br>                            assert.equal(ret.val.id, measurement_process.id);<br>                            _context5.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> processes.deleteProcess(project.id, create_sample_process.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            ret = _context5.sent;<br>                            assert.isOk(ret);<br>                            assert.isOk(ret.error);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">44</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="2d333106-4708-407a-a12b-52534bb1745d" class="suite has-suites">
            <h3 class="suite-title">Feature - Projects: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/project-delete-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="3bbde55c-8589-4d70-b76a-9af27ac59460" class="suite has-tests has-passed">
            <h3 class="suite-title">Delete Project: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/project-delete-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="3bbde55c-8589-4d70-b76a-9af27ac59460" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">23.393 s</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#3bbde55c-8589-4d70-b76a-9af27ac59460-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="3bbde55c-8589-4d70-b76a-9af27ac59460-test-list" class="list-group test-list collapse in">
                    <div id="e8f86f32-2287-49f1-99f6-19e4407382b3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              does not delete a project with any published datasets
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e8f86f32-2287-49f1-99f6-19e4407382b3 > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.728 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, datasetId, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context2.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> createRenamedDemoProject();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context2.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            <span class="hljs-comment">// publish one of the datasets</span><br>                            datasetId = datasetIdList[<span class="hljs-number">0</span>];<br>                            _context2.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> experimentDatasets.publishDataset(datasetId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            results = _context2.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.val);<br>                            assert.isOk(results.val.published);<br>                            assert(results.val.published);<br>                            <span class="hljs-comment">// delete project - fails</span><br>                            _context2.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> projectDelete.deleteProject(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            results = _context2.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.error);<br>                            _context2.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="22ce4575-5cb5-45c4-8717-37c23cff96ef" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              does not delete a project if any dataset in any experiment has a DOI
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#22ce4575-5cb5-45c4-8717-37c23cff96ef > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.222 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> project_id, experiment_id, datasetId, fakeDOI, status, results;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context3.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> createRenamedDemoProject();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            experiment_id = experiment.id;<br>                            assert.isOk(experiment_id);<br>                            _context3.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            <span class="hljs-comment">// fake a doi on one of the datasets</span><br>                            datasetId = datasetIdList[<span class="hljs-number">0</span>];<br>                            fakeDOI = <span class="hljs-string">"fakeDOI"</span>;<br>                            _context3.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> r.table(<span class="hljs-string">'datasets'</span>).get(datasetId).update({ doi: fakeDOI });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            status = _context3.sent;<br>                            <span class="hljs-keyword">if</span> (status.replaced != <span class="hljs-number">1</span>) {<br>                                assert.fail(<span class="hljs-string">'Update of DOI in dataset, '</span> + datasetId + <span class="hljs-string">', failed.'</span>);<br>                            }<br>                            <span class="hljs-comment">// delete project - fails</span><br>                            _context3.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> projectDelete.deleteProject(project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            results = _context3.sent;<br>                            assert.isOk(results);<br>                            assert.isOk(results.error);<br>                            _context3.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> testDatasets({ assertExists: <span class="hljs-literal">true</span> });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a5291f07-5832-4d74-a7d2-ac8448ee3f5d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              supports a dry run mode
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a5291f07-5832-4d74-a7d2-ac8448ee3f5d > .test-code.collapse">Code</button>
              <span class="test-duration slow">5.170 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> dryRun, project_id, results, tally;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">8000</span>); <span class="hljs-comment">// test take up to 8 seconds</span><br>                            _context4.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> createRenamedDemoProject();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            dryRun = <span class="hljs-literal">true</span>;<br>                            assert.isOk(project);<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            _context4.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> projectDelete.deleteProject(project_id, { dryRun: dryRun });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            results = _context4.sent;<br>                            assert.isOk(results);<br>                            tally = results.val;<br>                            assert.isOk(tally);<br>                            _context4.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> checkTally(tally, project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            _context4.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> confirmDemoProjectCoverage(tally, { dryRun: dryRun });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="816b8c31-c39b-4a19-a625-352fbb81e21f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              deletes the indicated project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#816b8c31-c39b-4a19-a625-352fbb81e21f > .test-code.collapse">Code</button>
              <span class="test-duration slow">7.273 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> dryRun, project_id, results, tally;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">12000</span>); <span class="hljs-comment">// test take up to 12 seconds</span><br>                            _context5.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> createRenamedDemoProject();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            dryRun = <span class="hljs-literal">false</span>;<br>                            assert.isOk(project);<br>                            project_id = project.id;<br>                            assert.isOk(project_id);<br>                            _context5.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> projectDelete.deleteProject(project_id, { dryRun: dryRun });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            results = _context5.sent;<br>                            assert.isOk(results);<br>                            tally = results.val;<br>                            assert.isOk(tally);<br>                            _context5.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> checkTally(tally, project_id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            _context5.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> confirmDemoProjectCoverage(tally, { dryRun: dryRun });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="5984c3a2-f39c-490b-bd81-13f26609db9d" class="suite has-suites">
            <h3 class="suite-title">Feature - projects: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/projects-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="54761fec-7206-469f-88f7-7c11efed28af" class="suite has-tests has-passed">
            <h3 class="suite-title">Create project</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/projects-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="54761fec-7206-469f-88f7-7c11efed28af" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">526 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#54761fec-7206-469f-88f7-7c11efed28af-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="54761fec-7206-469f-88f7-7c11efed28af-test-list" class="list-group test-list collapse in">
                    <div id="68b0bfe5-1ec7-4b1b-a06c-11568d9f252c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project and get project back
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#68b0bfe5-1ec7-4b1b-a06c-11568d9f252c > .test-code.collapse">Code</button>
              <span class="test-duration medium">71 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context2.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context2.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context2.sent;<br>                            project = ret.val;<br>                            assert.equal(project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.owner, user.id);<br>                            assert.equal(project.owner, userId);<br>                            assert.equal(project.users.length, <span class="hljs-number">1</span>);<br>                            assert.equal(project.users[<span class="hljs-number">0</span>].user_id, userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a3819d22-a7a6-4b0f-b377-052e82412c1a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project and find project in all projects
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a3819d22-a7a6-4b0f-b377-052e82412c1a > .test-code.collapse">Code</button>
              <span class="test-duration medium">73 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context3.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context3.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context3.sent;<br>                            project = ret.val;<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.users[<span class="hljs-number">0</span>].user_id, userId);<br>                            _context3.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> projects.all();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            project_list = _context3.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8f964b32-fc1e-4988-a40a-00381a84ac71" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project and find project by user
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8f964b32-fc1e-4988-a40a-00381a84ac71 > .test-code.collapse">Code</button>
              <span class="test-duration slow">191 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context4.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context4.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context4.sent;<br>                            project = ret.val;<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.users[<span class="hljs-number">0</span>].user_id, userId);<br>                            _context4.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> projects.forUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            project_list = _context4.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, userId);<br>                            assert.equal(found_project.users.length, <span class="hljs-number">1</span>);<br>                            <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> field is user, here, but user_id in test above!!!</span><br>                            <span class="hljs-comment">// is this the correct behaivor???</span><br>                            assert.equal(found_project.users[<span class="hljs-number">0</span>].user, userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9297b296-f325-45da-bbf1-a3ac3776a461" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project, find by user, has full set of properties
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9297b296-f325-45da-bbf1-a3ac3776a461 > .test-code.collapse">Code</button>
              <span class="test-duration slow">191 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, project_list, found_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context5.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context5.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context5.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context5.sent;<br>                            project = ret.val;<br>                            _context5.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> projects.forUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            project_list = _context5.sent;<br>                            found_project = <span class="hljs-literal">null</span>;<br>                            project_list.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (p.name == project_name) {<br>                                    found_project = p;<br>                                }<br>                            });<br>                            assert.isNotNull(found_project);<br>                            assert.equal(found_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(found_project.owner, user.id);<br>                            assert.equal(found_project.owner, userId);<br>                            assert.equal(found_project.users.length, <span class="hljs-number">1</span>);<br>                            assert.equal(found_project.users[<span class="hljs-number">0</span>].user, userId);<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'events'</span>));<br>                            assert.equal(found_project.events.length, <span class="hljs-number">0</span>);<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'processes'</span>));<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'samples'</span>));<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'files'</span>));<br>                            assert.isTrue(found_project.hasOwnProperty(<span class="hljs-string">'experiments'</span>));<br>                            assert.equal(found_project.processes, <span class="hljs-number">0</span>);<br>                            assert.equal(found_project.samples, <span class="hljs-number">0</span>);<br>                            assert.equal(found_project.files, <span class="hljs-number">0</span>);<br>                            assert.equal(found_project.experiments, <span class="hljs-number">0</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">31</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="f934f047-f029-47c4-9894-a58df5bfad04" class="suite has-tests has-passed">
            <h3 class="suite-title">Update project</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/projects-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="f934f047-f029-47c4-9894-a58df5bfad04" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">110 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#f934f047-f029-47c4-9894-a58df5bfad04-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="f934f047-f029-47c4-9894-a58df5bfad04-test-list" class="list-group test-list collapse in">
                    <div id="42daad6b-e07a-4ba6-b2ce-1800751f9a0f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create project, update name and description
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#42daad6b-e07a-4ba6-b2ce-1800751f9a0f > .test-code.collapse">Code</button>
              <span class="test-duration slow">110 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, project_name, attrs, ret, project, top_directory, name, description, update_attrs, updated_project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6$</span>(<span class="hljs-params">_context6</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context6.prev = _context6.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context6.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(userId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context6.sent;<br>                            project_name = random_name();<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            attrs = {<br>                                name: project_name,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context6.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context6.sent;<br>                            project = ret.val;<br>                            assert.equal(project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(project.name, project_name);<br>                            assert.equal(project.owner, userId);<br>                            _context6.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project.id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            top_directory = _context6.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project_name);<br>                            name = random_name();<br>                            description = <span class="hljs-string">"An alternate description"</span>;<br>                            update_attrs = {<br>                                name: name,<br>                                description: description<br>                            };<br>                            _context6.next = <span class="hljs-number">23</span>;<br>                            <span class="hljs-keyword">return</span> projects.update(project.id, update_attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">23</span>:<br>                            updated_project = _context6.sent;<br>                            assert.equal(updated_project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(updated_project.owner, userId);<br>                            assert.equal(updated_project.name, name);<br>                            assert.equal(updated_project.description, description);<br>                            _context6.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project.id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            top_directory = _context6.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context6.stop();<br>                    }<br>                }<br>            }, _callee6, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="d19732a1-d4d6-455f-ad62-9c1e053de576" class="suite has-suites">
            <h3 class="suite-title">Feature - Properties: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/properties-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="5d3b927d-acba-4370-87e0-7c43b8597bb8" class="suite has-tests has-pending">
            <h3 class="suite-title">Function level</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/properties-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="5d3b927d-acba-4370-87e0-7c43b8597bb8" class="suite-chart" width="50" height="50" data-total-passes="0" data-total-failures="0" data-total-pending="1" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">0</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">1</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#5d3b927d-acba-4370-87e0-7c43b8597bb8-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="5d3b927d-acba-4370-87e0-7c43b8597bb8-test-list" class="list-group test-list collapse in">
                    <div id="3ba5d837-5927-4b21-a8c8-29c407e8372e" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              individual test level
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="de87537d-6d4d-469d-aee2-f448fcb33b44" class="suite has-suites">
            <h3 class="suite-title">Feature - reset lost password: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/reset-lost-password-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="7f661cf5-3c43-4d52-836c-b2db4069d1e9" class="suite has-tests has-passed">
            <h3 class="suite-title">User with reset_password flag</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/reset-lost-password-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7f661cf5-3c43-4d52-836c-b2db4069d1e9" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">55 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7f661cf5-3c43-4d52-836c-b2db4069d1e9-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7f661cf5-3c43-4d52-836c-b2db4069d1e9-test-list" class="list-group test-list collapse in">
                    <div id="6c07ba07-2f05-4e72-b63b-c002c0432a3f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              there is a user for testing
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6c07ba07-2f05-4e72-b63b-c002c0432a3f > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context2.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user is not null"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1d26e44b-7dbc-4c25-8005-d757164b0d9f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              User with the reset password flag set
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1d26e44b-7dbc-4c25-8005-d757164b0d9f > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, validate_uuid, result;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context3.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user is not null"</span>);<br>                            _context3.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> r.uuid();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            validate_uuid = _context3.sent;<br>                            _context3.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.setUserPasswordResetFlag(user1Id, validate_uuid);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            result = _context3.sent;<br>                            assert.equal(result.replaced, <span class="hljs-number">1</span>, <span class="hljs-string">"The flag was correctly added to the user"</span>);<br>                            _context3.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            user = _context3.sent;<br>                            assert.isTrue(user.reset_password, <span class="hljs-string">"The flag is set"</span>);<br>                            assert.equal(user.validate_uuid, validate_uuid);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="739f5958-b7f4-4bbb-84cb-c9e9eead8211" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              User reset password flag is cleared
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#739f5958-b7f4-4bbb-84cb-c9e9eead8211 > .test-code.collapse">Code</button>
              <span class="test-duration fast">36 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, result;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context4.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user is not null"</span>);<br>                            _context4.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.setUserPasswordResetFlag(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            result = _context4.sent;<br>                            assert.equal(result.replaced, <span class="hljs-number">1</span>, <span class="hljs-string">"The flag was correctly added to the user"</span>);<br>                            _context4.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            user = _context4.sent;<br>                            assert.isTrue(user.reset_password);<br>                            _context4.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.clearUserPasswordResetFlag(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            result = _context4.sent;<br>                            assert.equal(result.replaced, <span class="hljs-number">1</span>, <span class="hljs-string">"The flag was correctly cleared from the user"</span>);<br>                            _context4.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(user1Id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            user = _context4.sent;<br>                            assert.isUndefined(user.reset_password, <span class="hljs-string">"The flag is cleared"</span>);<br>                            assert.isUndefined(user.validate_uuid, <span class="hljs-string">"The flag is cleared"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="ef4d0725-fee3-4318-b510-93e88ea8a3a1" class="suite has-suites">
            <h3 class="suite-title">Feature - Samples: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/samples-create-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="6fdf4d06-f29d-4db0-adcb-680176e87613" class="suite has-tests has-passed">
            <h3 class="suite-title">Create Sample</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/samples-create-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="6fdf4d06-f29d-4db0-adcb-680176e87613" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">146 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#6fdf4d06-f29d-4db0-adcb-680176e87613-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="6fdf4d06-f29d-4db0-adcb-680176e87613-test-list" class="list-group test-list collapse in">
                    <div id="b05a3d4e-8c46-4e87-b3c4-e78768555dfb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create a sample set
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b05a3d4e-8c46-4e87-b3c4-e78768555dfb > .test-code.collapse">Code</button>
              <span class="test-duration slow">146 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> sampleName1, sampleName2, sampleNameList, sampleNameArgs, results, sampleList, sample1, sample2;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            sampleName1 = <span class="hljs-string">"Sample1 For Test"</span>;<br>                            sampleName2 = <span class="hljs-string">"Sample2 For Test"</span>;<br>                            sampleNameList = [sampleName1, sampleName2];<br>                            sampleNameArgs = [];<br>                            sampleNameList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{<br>                                sampleNameArgs.push({ name: name });<br>                            });<br>                            _context2.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> samples.createSamples(project.id, createSampleProcess.id, sampleNameArgs, project.owner);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            results = _context2.sent;<br>                            assert.isOk(results.val);<br>                            assert.isOk(results.val.samples);<br>                            sampleList = results.val.samples;<br>                            assert.isOk(sampleList);<br>                            assert.equal(sampleList.length, <span class="hljs-number">2</span>);<br>                            sample1 = sampleList[<span class="hljs-number">0</span>];<br>                            assert.isOk(sample1);<br>                            assert.equal(sample1.otype, <span class="hljs-string">'sample'</span>);<br>                            assert.equal(sample1.name, sampleName1);<br>                            sample2 = sampleList[<span class="hljs-number">1</span>];<br>                            assert.isOk(sample2);<br>                            assert.equal(sample2.otype, <span class="hljs-string">'sample'</span>);<br>                            assert.equal(sample2.name, sampleName2);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="4cf24255-4692-400d-abbe-dc29f9615e54" class="suite has-suites">
            <h3 class="suite-title">Feature - Samples: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/samples-get-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="278aead4-1aaa-44d3-b2a2-2681ecf1a661" class="suite has-tests has-passed">
            <h3 class="suite-title">Get Samples</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/samples-get-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="278aead4-1aaa-44d3-b2a2-2681ecf1a661" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">29 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#278aead4-1aaa-44d3-b2a2-2681ecf1a661-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="278aead4-1aaa-44d3-b2a2-2681ecf1a661-test-list" class="list-group test-list collapse in">
                    <div id="a7bdc22e-1e44-46ca-8cb0-120c7a180e5a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              get samples by id
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a7bdc22e-1e44-46ca-8cb0-120c7a180e5a > .test-code.collapse">Code</button>
              <span class="test-duration fast">9 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> results, sample, experiments, processes, checks, c, name, direction, found, i;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> samples.getSample(sample1.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            results = _context2.sent;<br>                            assert.isOk(results.val);<br>                            sample = results.val;<br>                            assert.equal(sample.otype, <span class="hljs-string">'sample'</span>);<br>                            assert.equal(sample.name, sample1.name);<br>                            experiments = sample.experiments;<br>                            assert.equal(experiments.length, <span class="hljs-number">1</span>);<br>                            assert.equal(experiments[<span class="hljs-number">0</span>].id, experiment.id);<br>                            processes = sample.processes;<br>                            assert.equal(processes.length, <span class="hljs-number">3</span>);<br>                            checks = [{ name: createSampleProcess.name, direction: <span class="hljs-string">'out'</span> }, { name: transformationProcess1.name, direction: <span class="hljs-string">'in'</span> }, { name: transformationProcess1.name, direction: <span class="hljs-string">'out'</span> }];<br>                            <span class="hljs-keyword">for</span> (c = <span class="hljs-number">0</span>; c &lt; checks.length; c++) {<br>                                name = checks[c].name;<br>                                direction = checks[c].direction;<br>                                found = <span class="hljs-literal">false</span>;<br>                                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; processes.length; i++) {<br>                                    <span class="hljs-keyword">if</span> (name === processes[i].name &amp;&amp; direction === processes[i].direction) {<br>                                        found = <span class="hljs-literal">true</span>;<br>                                    }<br>                                }<br>                                assert(found, <span class="hljs-string">'Missing process for sample '</span> + sample1.name + <span class="hljs-string">': expected name = \''</span> + name + <span class="hljs-string">'\' with direction \''</span> + direction + <span class="hljs-string">'\''</span>);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2786c67b-598c-40c0-ba53-e6095d053886" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              gets all samples for experiment
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2786c67b-598c-40c0-ba53-e6095d053886 > .test-code.collapse">Code</button>
              <span class="test-duration fast">10 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> results, sampleList, testTable, i;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> samples.getAllSamplesForExperiment(experiment.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            results = _context3.sent;<br>                            assert.isOk(results.val);<br>                            sampleList = results.val;<br>                            assert.equal(sampleList.length, <span class="hljs-number">2</span>);<br>                            testTable = {};<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; sampleList.length; i++) {<br>                                testTable[sampleList[i].id] = sampleList[i];<br>                            }<br>                            assert.isOk(testTable[sample1.id]);<br>                            assert.equal(testTable[sample1.id].name, sample1.name);<br>                            assert.isOk(testTable[sample2.id]);<br>                            assert.equal(testTable[sample2.id].name, sample2.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="92cbe8bb-ef9b-423f-af55-a003ef1b7f7d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              gets all samples for project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#92cbe8bb-ef9b-423f-af55-a003ef1b7f7d > .test-code.collapse">Code</button>
              <span class="test-duration fast">10 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> results, sampleList, testTable, i;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> samples.getAllSamplesForProject(project.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            results = _context4.sent;<br>                            assert.isOk(results.val);<br>                            sampleList = results.val;<br>                            assert.equal(sampleList.length, <span class="hljs-number">2</span>);<br>                            testTable = {};<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; sampleList.length; i++) {<br>                                testTable[sampleList[i].id] = sampleList[i];<br>                            }<br>                            assert.isOk(testTable[sample1.id]);<br>                            assert.equal(testTable[sample1.id].name, sample1.name);<br>                            assert.isOk(testTable[sample2.id]);<br>                            assert.equal(testTable[sample2.id].name, sample2.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="3baa0881-0522-4918-a6f0-4e8a681ed03d" class="suite has-suites">
            <h3 class="suite-title">Feature - Templates: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/templates-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="656aaefa-f1fa-4772-9651-1bef4fb0c7c7" class="suite has-tests has-pending">
            <h3 class="suite-title">Function level</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/templates-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="656aaefa-f1fa-4772-9651-1bef4fb0c7c7" class="suite-chart" width="50" height="50" data-total-passes="0" data-total-failures="0" data-total-pending="1" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">0 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">0</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">1</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#656aaefa-f1fa-4772-9651-1bef4fb0c7c7-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="656aaefa-f1fa-4772-9651-1bef4fb0c7c7-test-list" class="list-group test-list collapse in">
                    <div id="624b8d8a-cd21-47d5-ae1e-63f1b78a131d" class="list-group-item test pending">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              individual test level
            </h4>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"></code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="2a170c53-5ec8-4969-b78c-05b27ec9befa" class="suite has-suites">
            <h3 class="suite-title">Feature - Users: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/users-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="35b97aba-8025-4ac2-8bdc-5e9dd400a6ac" class="suite has-tests has-passed">
            <h3 class="suite-title">Standard Test Users</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/users-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="35b97aba-8025-4ac2-8bdc-5e9dd400a6ac" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">5 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#35b97aba-8025-4ac2-8bdc-5e9dd400a6ac-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="35b97aba-8025-4ac2-8bdc-5e9dd400a6ac-test-list" class="list-group test-list collapse in">
                    <div id="377102d1-59e2-48ef-8c98-9cd0b03671e4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              each users exist - internal use
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#377102d1-59e2-48ef-8c98-9cd0b03671e4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">2 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> users, ids, i, _user;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUsers();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            users = _context2.sent;<br>                            ids = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; users.length; i++) {<br>                                _user = users[i];<br>                                ids.push(_user.id);<br>                            }<br>                            assert(ids.indexOf(<span class="hljs-string">"test@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                            assert(ids.indexOf(<span class="hljs-string">"another@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                            assert(ids.indexOf(<span class="hljs-string">"admin@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                            assert(ids.indexOf(<span class="hljs-string">"tadmin@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d9c4370d-fac2-4fe1-b79c-fc4b99a0d7c0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              each users exist - external use
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d9c4370d-fac2-4fe1-b79c-fc4b99a0d7c0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">3 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> users, ids, i, _user2;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getAllUsersExternal();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            users = _context3.sent;<br>                            ids = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; users.length; i++) {<br>                                _user2 = users[i];<br>                                ids.push(_user2.id);<br>                            }<br>                            assert(ids.indexOf(<span class="hljs-string">"test@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                            assert(ids.indexOf(<span class="hljs-string">"another@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                            assert(ids.indexOf(<span class="hljs-string">"admin@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                            assert(ids.indexOf(<span class="hljs-string">"tadmin@test.mc"</span>) &gt; -<span class="hljs-number">1</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="ec285e69-04f1-49d8-b350-6dc9e8021f62" class="suite has-tests has-passed">
            <h3 class="suite-title">User Profile</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Database-Level/specs/users-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="ec285e69-04f1-49d8-b350-6dc9e8021f62" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">87 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#ec285e69-04f1-49d8-b350-6dc9e8021f62-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="ec285e69-04f1-49d8-b350-6dc9e8021f62-test-list" class="list-group test-list collapse in">
                    <div id="24fa1c2b-2013-4575-b142-ae89d53f1312" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              can store values
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#24fa1c2b-2013-4575-b142-ae89d53f1312 > .test-code.collapse">Code</button>
              <span class="test-duration slow">87 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> name, value, probe;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            name = random_name(<span class="hljs-string">"test value - "</span>);<br>                            value = name;<br>                            _context4.next = <span class="hljs-number">4</span>;<br>                            <span class="hljs-keyword">return</span> dbModelProfile.storeInUserProfile(userId, name, value);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                            probe = _context4.sent;<br>                            assert.isOk(probe);<br>                            assert.equal(probe, name);<br>                            _context4.next = <span class="hljs-number">9</span>;<br>                            <span class="hljs-keyword">return</span> dbModelProfile.storeInUserProfile(userId, name, value);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                            probe = _context4.sent;<br>                            assert.isOk(probe);<br>                            assert.equal(probe, name);<br>                            _context4.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> dbModelProfile.getFromUserProfile(userId, name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            probe = _context4.sent;<br>                            assert.isOk(probe);<br>                            assert.equal(probe, name);<br>                            _context4.next = <span class="hljs-number">19</span>;<br>                            <span class="hljs-keyword">return</span> dbModelProfile.clearFromUserProfile(userId, name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                            probe = _context4.sent;<br>                            assert.isOk(probe);<br>                            assert.equal(probe, name);<br>                            _context4.next = <span class="hljs-number">24</span>;<br>                            <span class="hljs-keyword">return</span> dbModelProfile.clearFromUserProfile(userId, name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                            probe = _context4.sent;<br>                            assert.isNull(probe);<br>                            _context4.next = <span class="hljs-number">28</span>;<br>                            <span class="hljs-keyword">return</span> dbModelProfile.getFromUserProfile(userId, name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<br>                            probe = _context4.sent;<br>                            assert.isNull(probe);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="a677375d-4e96-4964-874a-d22832f08694" class="suite has-suites">
            <h3 class="suite-title">Feature - User - Build Demo Project Support: </h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Resource-level/specs/build-demo-project-spec.js</h5>
        
              <section class="suite-wrap">
          <div id="5f6627d1-dd6c-4b8f-a16f-6fb848d054e7" class="suite has-tests has-passed">
            <h3 class="suite-title">User for test</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Resource-level/specs/build-demo-project-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="5f6627d1-dd6c-4b8f-a16f-6fb848d054e7" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">1 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#5f6627d1-dd6c-4b8f-a16f-6fb848d054e7-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="5f6627d1-dd6c-4b8f-a16f-6fb848d054e7-test-list" class="list-group test-list collapse in">
                    <div id="fe0054a3-85c3-44e0-ad90-7690a300ccf7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              exists
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fe0054a3-85c3-44e0-ad90-7690a300ccf7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee2$</span>(<span class="hljs-params">_context2</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context2.prev = _context2.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context2.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context2.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            assert.equal(user.apikey, demoProjectTestUserKey);<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context2.stop();<br>                    }<br>                }<br>            }, _callee2, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="f356d1fa-05bb-48fd-a2da-9c107caa8c64" class="suite has-tests has-passed">
            <h3 class="suite-title">List of files for build</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Resource-level/specs/build-demo-project-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="f356d1fa-05bb-48fd-a2da-9c107caa8c64" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">1.494 s</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#f356d1fa-05bb-48fd-a2da-9c107caa8c64-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="f356d1fa-05bb-48fd-a2da-9c107caa8c64-test-list" class="list-group test-list collapse in">
                    <div id="dbda2056-9cba-4b2b-a84b-4db2d36d0372" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              exists in folder
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#dbda2056-9cba-4b2b-a84b-4db2d36d0372 > .test-code.collapse">Code</button>
              <span class="test-duration medium">55 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> i, checksumAndFilename, expectedChecksum, filename, path, checksum;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee3$</span>(<span class="hljs-params">_context3</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context3.prev = _context3.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            assert(fs.existsSync(demoProjectConf.fullDatapath), <span class="hljs-string">"missing test datafile dir "</span> + demoProjectConf.fullDatapath);<br>                            i = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            <span class="hljs-keyword">if</span> (!(i &lt; helper.filesDescriptions().length)) {<br>                                _context3.next = <span class="hljs-number">15</span>;<br>                                <span class="hljs-keyword">break</span>;<br>                            }<br>                            checksumAndFilename = helper.filesDescriptions()[i];<br>                            expectedChecksum = checksumAndFilename[<span class="hljs-number">0</span>];<br>                            filename = checksumAndFilename[<span class="hljs-number">1</span>];<br>                            path = demoProjectConf.fullDatapath + <span class="hljs-string">'/'</span> + filename;<br>                            assert(fs.existsSync(path), <span class="hljs-string">"missing test datafile "</span> + demoProjectConf.fullDatapath + <span class="hljs-string">"/"</span> + filename);<br>                            _context3.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> md5File(path);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            checksum = _context3.sent;<br>                            assert(expectedChecksum == checksum, <span class="hljs-string">"Checksums should be equal for file: "</span> + filename + <span class="hljs-string">"; but expected "</span> + expectedChecksum + <span class="hljs-string">" and got "</span> + checksum);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            i++;<br>                            _context3.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context3.stop();<br>                    }<br>                }<br>            }, _callee3, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8866e153-0e7a-4f93-b3ed-5cecb02d8c54" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              can be inserted in database
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8866e153-0e7a-4f93-b3ed-5cecb02d8c54 > .test-code.collapse">Code</button>
              <span class="test-duration slow">1.320 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, projectName, attrs, ret, project, top_directory, tempDir, fileResults, fileCount, i, checksumFilenameAndMimetype, expectedChecksum, filename, mimetype, path, checksum, stats, fileSizeInBytes, source, args, file, _i, _checksumFilenameAndMimetype, _expectedChecksum, _filename, _file;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee4$</span>(<span class="hljs-params">_context4</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context4.prev = _context4.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context4.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context4.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            projectName = random_name();<br>                            attrs = {<br>                                name: projectName,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context4.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context4.sent;<br>                            project = ret.val;<br>                            assert.equal(projectName, project.name);<br>                            assert.equal(user.id, project.owner);<br>                            _context4.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> directories.get(project.id, <span class="hljs-string">'top'</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            top_directory = _context4.sent;<br>                            assert.equal(top_directory.otype, <span class="hljs-string">"directory"</span>);<br>                            assert.equal(top_directory.name, project.name);<br>                            tempDir = os.tmpdir();<br>                            fileResults = {};<br>                            fileCount = <span class="hljs-number">0</span>;<br>                            i = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            <span class="hljs-keyword">if</span> (!(i &lt; helper.filesDescriptions().length)) {<br>                                _context4.next = <span class="hljs-number">49</span>;<br>                                <span class="hljs-keyword">break</span>;<br>                            }<br>                            checksumFilenameAndMimetype = helper.filesDescriptions()[i];<br>                            expectedChecksum = checksumFilenameAndMimetype[<span class="hljs-number">0</span>];<br>                            filename = checksumFilenameAndMimetype[<span class="hljs-number">1</span>];<br>                            mimetype = checksumFilenameAndMimetype[<span class="hljs-number">2</span>];<br>                            path = demoProjectConf.fullDatapath + <span class="hljs-string">'/'</span> + filename;<br>                            assert(fs.existsSync(path), <span class="hljs-string">"missing test datafile "</span> + demoProjectConf.fullDatapath + <span class="hljs-string">"/"</span> + filename);<br>                            _context4.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> md5File(path);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            checksum = _context4.sent;<br>                            assert(expectedChecksum == checksum, <span class="hljs-string">"Checksums should be equal for file: "</span> + filename + <span class="hljs-string">"; but expected "</span> + expectedChecksum + <span class="hljs-string">" and got "</span> + checksum);<br>                            stats = fs.statSync(path);<br>                            fileSizeInBytes = stats.size;<br>                            _context4.next = <span class="hljs-number">36</span>;<br>                            <span class="hljs-keyword">return</span> copyOne(path, tempDir);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<br>                            source = _context4.sent;<br>                            path = source.path;<br>                            args = {<br>                                name: filename,<br>                                checksum: checksum,<br>                                mediatype: fileUtils.mediaTypeDescriptionsFromMime(mimetype),<br>                                filesize: fileSizeInBytes,<br>                                filepath: path<br>                            };<br>                            _context4.next = <span class="hljs-number">41</span>;<br>                            <span class="hljs-keyword">return</span> directories.ingestSingleLocalFile(project.id, top_directory.id, user.id, args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">41</span>:<br>                            file = _context4.sent;<br>                            should.exist(file);<br>                            assert.equal(file.name, filename);<br>                            assert.equal(file.checksum, checksum);<br>                            fileResults[file.checksum] = file;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">46</span>:<br>                            i++;<br>                            _context4.next = <span class="hljs-number">21</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">49</span>:<br>                            <span class="hljs-keyword">for</span> (_i = <span class="hljs-number">0</span>; _i &lt; helper.filesDescriptions().length; _i++) {<br>                                _checksumFilenameAndMimetype = helper.filesDescriptions()[_i];<br>                                _expectedChecksum = _checksumFilenameAndMimetype[<span class="hljs-number">0</span>];<br>                                _filename = _checksumFilenameAndMimetype[<span class="hljs-number">1</span>];<br>                                _file = fileResults[_expectedChecksum];<br>                                should.exist(_file, <span class="hljs-string">"file with filname = "</span> + _filename + <span class="hljs-string">" in not in the results"</span>);<br>                                assert.equal(_file.name, _filename);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">50</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context4.stop();<br>                    }<br>                }<br>            }, _callee4, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d3cfaa9a-d5dc-40a0-bfec-3debf5413fb0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              is in the database
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d3cfaa9a-d5dc-40a0-bfec-3debf5413fb0 > .test-code.collapse">Code</button>
              <span class="test-duration slow">119 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> i, checksumAndFilename, checksum, filename, fileList, file, _i2;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee5$</span>(<span class="hljs-params">_context5</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context5.prev = _context5.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            assert(fs.existsSync(demoProjectConf.fullDatapath), <span class="hljs-string">"missing test datafile dir "</span> + demoProjectConf.fullDatapath);<br>                            i = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            <span class="hljs-keyword">if</span> (!(i &lt; helper.filesDescriptions().length)) {<br>                                _context5.next = <span class="hljs-number">19</span>;<br>                                <span class="hljs-keyword">break</span>;<br>                            }<br>                            checksumAndFilename = helper.filesDescriptions()[i];<br>                            checksum = checksumAndFilename[<span class="hljs-number">0</span>];<br>                            filename = checksumAndFilename[<span class="hljs-number">1</span>];<br>                            _context5.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> files.getAllByChecksum(checksum);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            fileList = _context5.sent;<br>                            file = <span class="hljs-literal">null</span>;<br>                            <span class="hljs-keyword">for</span> (_i2 = <span class="hljs-number">0</span>; _i2 &lt; fileList.length; _i2++) {<br>                                <span class="hljs-keyword">if</span> (!fileList[_i2].usesid) file = fileList[_i2];<br>                            }<br>                            assert(file, <span class="hljs-string">"Missing original file for "</span> + filename);<br>                            _context5.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> files.get(file.id);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            file = _context5.sent;<br>                            assert(file.name == filename, <span class="hljs-string">"Filename for file by checksum for filename = "</span> + filename + <span class="hljs-string">"; with checksum = "</span> + checksum + <span class="hljs-string">"; expected "</span> + filename + <span class="hljs-string">" but found "</span> + file.name);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                            i++;<br>                            _context5.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">19</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context5.stop();<br>                    }<br>                }<br>            }, _callee5, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="68d9b79d-496b-4689-97c1-0a2e922b6cb9" class="suite has-tests has-passed">
            <h3 class="suite-title">Build Demo Project helper supporting functions</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Resource-level/specs/build-demo-project-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="68d9b79d-496b-4689-97c1-0a2e922b6cb9" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">1.443 s</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#68d9b79d-496b-4689-97c1-0a2e922b6cb9-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="68d9b79d-496b-4689-97c1-0a2e922b6cb9-test-list" class="list-group test-list collapse in">
                    <div id="7e3fa941-5419-4723-9636-ba5b0c70926d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              checkes for missing files in folder
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7e3fa941-5419-4723-9636-ba5b0c70926d > .test-code.collapse">Code</button>
              <span class="test-duration medium">61 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> missingFiles;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee6$</span>(<span class="hljs-params">_context6</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context6.prev = _context6.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context6.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> helper.filesMissingInFolder(demoProjectConf.datapathPrefix);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            missingFiles = _context6.sent;<br>                            assert.lengthOf(missingFiles, <span class="hljs-number">0</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context6.stop();<br>                    }<br>                }<br>            }, _callee6, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9578f633-2c8e-46f6-908b-425483e1563a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              adds all files to top dir of a test Demo Project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9578f633-2c8e-46f6-908b-425483e1563a > .test-code.collapse">Code</button>
              <span class="test-duration slow">1.375 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, projectName, attrs, ret, project, files, missingFiles;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee7$</span>(<span class="hljs-params">_context7</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context7.prev = _context7.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context7.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context7.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            projectName = random_name();<br>                            attrs = {<br>                                name: projectName,<br>                                description: <span class="hljs-string">"This is a test project for automated testing."</span><br>                            };<br>                            _context7.next = <span class="hljs-number">8</span>;<br>                            <span class="hljs-keyword">return</span> projects.createProject(user, attrs);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:<br>                            ret = _context7.sent;<br>                            project = ret.val;<br>                            assert.equal(projectName, project.name);<br>                            assert.equal(user.id, project.owner);<br>                            _context7.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> helper.addAllFilesToProject(user, project, demoProjectConf.datapathPrefix);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            _context7.next = <span class="hljs-number">16</span>;<br>                            <span class="hljs-keyword">return</span> helper.filesForProject(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:<br>                            files = _context7.sent;<br>                            assert.lengthOf(files, helper.filesDescriptions().length);<br>                            _context7.next = <span class="hljs-number">20</span>;<br>                            <span class="hljs-keyword">return</span> helper.filesMissingInDatabase(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<br>                            missingFiles = _context7.sent;<br>                            assert.lengthOf(missingFiles, <span class="hljs-number">0</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context7.stop();<br>                    }<br>                }<br>            }, _callee7, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6bc5dadb-0351-41a1-ac29-e31414e97706" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              create a table of all templates
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6bc5dadb-0351-41a1-ac29-e31414e97706 > .test-code.collapse">Code</button>
              <span class="test-duration fast">7 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> table;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee8$</span>(<span class="hljs-params">_context8</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context8.prev = _context8.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context8.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> helper.makeTemplateTable();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            table = _context8.sent;<br>                            assert.isOk(table, <span class="hljs-string">"table is undefined"</span>);<br>                            assert(!_.isEmpty(table), <span class="hljs-string">"table is empty"</span>);<br>                            assert.isOk(table[demoProjectConf.createSamplesTemplateId], <span class="hljs-string">'table has a value for \''</span> + demoProjectConf.createSamplesTemplateId + <span class="hljs-string">'\''</span>);<br>                            assert.isOk(table[demoProjectConf.sectioningTemplateId], <span class="hljs-string">'table has a value for \''</span> + demoProjectConf.sectioningTemplateId + <span class="hljs-string">'\''</span>);<br>                            assert.isOk(table[demoProjectConf.ebsdTemplateId], <span class="hljs-string">'table has a value for \''</span> + demoProjectConf.ebsdTemplateId + <span class="hljs-string">'\''</span>);<br>                            assert.isOk(table[demoProjectConf.epmaTemplateId], <span class="hljs-string">'table has a value for \''</span> + demoProjectConf.epmaTemplateId + <span class="hljs-string">'\''</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context8.stop();<br>                    }<br>                }<br>            }, _callee8, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="645a6bf7-eca9-490f-9ca1-c7379067a38a" class="suite has-tests has-passed">
            <h3 class="suite-title">Build Demo Project helper main functions</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Resource-level/specs/build-demo-project-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="645a6bf7-eca9-490f-9ca1-c7379067a38a" class="suite-chart" width="50" height="50" data-total-passes="14" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">6.960 s</li>
                <li class="suite-summary-item tests">14</li>
                <li class="suite-summary-item passed">14</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#645a6bf7-eca9-490f-9ca1-c7379067a38a-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="645a6bf7-eca9-490f-9ca1-c7379067a38a-test-list" class="list-group test-list collapse in">
                    <div id="8adc94fb-4d5e-40aa-b1fa-b39beeaf1a31" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              demo project test user exists
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8adc94fb-4d5e-40aa-b1fa-b39beeaf1a31 > .test-code.collapse">Code</button>
              <span class="test-duration fast">1 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee9$</span>(<span class="hljs-params">_context9</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context9.prev = _context9.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context9.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context9.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            assert.equal(user.name, demoProjectTestUserId);<br>                            assert.equal(user.apikey, demoProjectTestUserKey);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context9.stop();<br>                    }<br>                }<br>            }, _callee9, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e48fba7c-92f7-468d-a132-5a66128bd639" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create the Demo Project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e48fba7c-92f7-468d-a132-5a66128bd639 > .test-code.collapse">Code</button>
              <span class="test-duration medium">75 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee10</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee10$</span>(<span class="hljs-params">_context10</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context10.prev = _context10.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context10.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context10.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            <span class="hljs-comment">// Note create project returns the project if it already exists, by name</span><br>                            <span class="hljs-comment">// It does not create a duplicate!</span><br>                            _context10.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            valOrError = _context10.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.isNotNull(project, <span class="hljs-string">"project is not null"</span>);<br>                            assert.equal(project.otype, <span class="hljs-string">"project"</span>);<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            assert(project.description.includes(demoProjectConf.demoProjectDescription)); <span class="hljs-comment">// may have been turned into html!!</span><br>                            assert.equal(project.owner, demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context10.stop();<br>                    }<br>                }<br>            }, _callee10, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0701ed1a-74d2-4995-9dce-e3a01f3c507a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create the Demo Experiment
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0701ed1a-74d2-4995-9dce-e3a01f3c507a > .test-code.collapse">Code</button>
              <span class="test-duration slow">82 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee11</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee11$</span>(<span class="hljs-params">_context11</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context11.prev = _context11.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context11.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context11.sent;<br>                            assert.isNotNull(user, <span class="hljs-string">"test user exists"</span>);<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context11.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            valOrError = _context11.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context11.next = <span class="hljs-number">13</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:<br>                            valOrError = _context11.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.isNotNull(experiment, <span class="hljs-string">"experiment is not null"</span>);<br>                            assert.equal(experiment.otype, <span class="hljs-string">"experiment"</span>);<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            assert(experiment.description.includes(demoProjectConf.demoProjectExperimentDescription)); <span class="hljs-comment">// may have been turned into html!!</span><br>                            assert.equal(experiment.owner, demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context11.stop();<br>                    }<br>                }<br>            }, _callee11, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="bcbaf54c-0fcb-4b76-ad08-d754805699f2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create a Demo Process
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bcbaf54c-0fcb-4b76-ad08-d754805699f2 > .test-code.collapse">Code</button>
              <span class="test-duration slow">198 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee12</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, processData, processName, templateId, process;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee12$</span>(<span class="hljs-params">_context12</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context12.prev = _context12.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context12.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context12.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context12.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context12.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context12.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context12.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            processData = demoProjectConf.processesData[<span class="hljs-number">0</span>];<br>                            processName = processData.name;<br>                            templateId = processData.templateId;<br>                            _context12.next = <span class="hljs-number">21</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProcess(project, experiment, processName, templateId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">21</span>:<br>                            valOrError = _context12.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProcess: "</span> + valOrError.error);<br>                            process = valOrError.val;<br>                            assert.equal(process.otype, <span class="hljs-string">"process"</span>);<br>                            assert.equal(process.name, processName);<br>                            assert.equal(process.template_id, templateId);<br>                            assert.equal(process.owner, demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context12.stop();<br>                    }<br>                }<br>            }, _callee12, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="71b2a8d7-b05b-449d-b83d-19c139c31467" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create all Demo Processes
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#71b2a8d7-b05b-449d-b83d-19c139c31467 > .test-code.collapse">Code</button>
              <span class="test-duration slow">889 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee13</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, processes, i, processData, processName, templateId, _process;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee13$</span>(<span class="hljs-params">_context13</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context13.prev = _context13.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context13.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context13.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context13.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context13.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context13.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context13.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            _context13.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            valOrError = _context13.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.processesData.length; i++) {<br>                                processData = demoProjectConf.processesData[i];<br>                                processName = processData.name;<br>                                templateId = processData.templateId;<br>                                _process = processes[i];<br>                                assert.equal(_process.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process.name, processName);<br>                                assert.equal(_process.template_id, templateId);<br>                                assert.equal(_process.owner, demoProjectTestUserId);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">24</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context13.stop();<br>                    }<br>                }<br>            }, _callee13, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="15ac10cd-d56f-4116-82a6-76ef2dd9af88" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create the output samples for a given Process
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#15ac10cd-d56f-4116-82a6-76ef2dd9af88 > .test-code.collapse">Code</button>
              <span class="test-duration slow">416 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee14</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, mapEntry, processData, processName, templateId, process, sampleIndexList, sampleNames, i, samples, _i3, sample, name;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee14$</span>(<span class="hljs-params">_context14</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context14.prev = _context14.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context14.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context14.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context14.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context14.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context14.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context14.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            mapEntry = demoProjectConf.outputSampleIndexMap[<span class="hljs-number">2</span>];<br>                            processData = demoProjectConf.processesData[mapEntry.processIndex];<br>                            processName = processData.name;<br>                            templateId = processData.templateId;<br>                            _context14.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProcess(project, experiment, processName, templateId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            valOrError = _context14.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProcess: "</span> + valOrError.error);<br>                            process = valOrError.val;<br>                            sampleIndexList = mapEntry.sampleIndexList;<br>                            sampleNames = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; sampleIndexList.length; i++) {<br>                                sampleNames.push(demoProjectConf.sampleNameData[sampleIndexList[i]]);<br>                            }<br>                            _context14.next = <span class="hljs-number">30</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindProcessOutputSamples(project, experiment, process, sampleNames);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                            valOrError = _context14.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindProcessOutputSamples: "</span> + valOrError.error);<br>                            samples = valOrError.val;<br>                            assert.isOk(samples);<br>                            assert.lengthOf(samples, sampleNames.length);<br>                            <span class="hljs-keyword">for</span> (_i3 = <span class="hljs-number">0</span>; _i3 &lt; sampleNames.length; _i3++) {<br>                                sample = samples[_i3];<br>                                name = sampleNames[_i3];<br>                                assert.equal(name, sample.name);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">36</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context14.stop();<br>                    }<br>                }<br>            }, _callee14, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4a3547a4-8908-4383-9b7f-a9067698d6ac" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create the output samples for all Process
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4a3547a4-8908-4383-9b7f-a9067698d6ac > .test-code.collapse">Code</button>
              <span class="test-duration slow">402 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee15</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, processes, i, processData, processName, _process2, samples, _i4, sample, name;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee15$</span>(<span class="hljs-params">_context15</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context15.prev = _context15.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context15.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context15.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context15.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context15.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context15.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context15.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            _context15.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            valOrError = _context15.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.processesData.length; i++) {<br>                                processData = demoProjectConf.processesData[i];<br>                                processName = processData.name;<br>                                _process2 = processes[i];<br>                                assert.equal(_process2.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process2.name, processName);<br>                            }<br>                            _context15.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindOutputSamplesForAllProcesses(project, experiment, processes, demoProjectConf.sampleNameData, demoProjectConf.outputSampleIndexMap);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            valOrError = _context15.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindOutputSamplesForAllProcesses: "</span> + valOrError.error);<br>                            samples = valOrError.val;<br>                            assert.isOk(samples);<br>                            assert.lengthOf(samples, demoProjectConf.sampleNameData.length);<br>                            <span class="hljs-keyword">for</span> (_i4 = <span class="hljs-number">0</span>; _i4 &lt; demoProjectConf.sampleNameData.length; _i4++) {<br>                                sample = samples[_i4];<br>                                name = demoProjectConf.sampleNameData[_i4];<br>                                assert.equal(name, sample.name);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">32</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context15.stop();<br>                    }<br>                }<br>            }, _callee15, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="13e45c22-3dfb-4abd-bc2c-951f4e7e6a7c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create the input samples for a given Process
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#13e45c22-3dfb-4abd-bc2c-951f4e7e6a7c > .test-code.collapse">Code</button>
              <span class="test-duration slow">330 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee16</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, processes, i, processData, processName, _process3, samples, mapEntry, process, sampleList, sampleIndexList, inputSampleList, missingSamples;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee16$</span>(<span class="hljs-params">_context16</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context16.prev = _context16.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context16.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context16.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context16.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context16.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context16.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context16.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            _context16.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            valOrError = _context16.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.processesData.length; i++) {<br>                                processData = demoProjectConf.processesData[i];<br>                                processName = processData.name;<br>                                _process3 = processes[i];<br>                                assert.equal(_process3.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process3.name, processName);<br>                            }<br>                            _context16.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindOutputSamplesForAllProcesses(project, experiment, processes, demoProjectConf.sampleNameData, demoProjectConf.outputSampleIndexMap);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            valOrError = _context16.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindOutputSamplesForAllProcesses: "</span> + valOrError.error);<br>                            samples = valOrError.val;<br>                            assert.isOk(samples);<br>                            assert.lengthOf(samples, demoProjectConf.sampleNameData.length);<br>                            mapEntry = demoProjectConf.inputSampleIndexMap[<span class="hljs-number">0</span>];<br>                            process = processes[mapEntry.processIndex];<br>                            sampleList = [];<br>                            sampleIndexList = mapEntry.sampleIndexList;<br>                            sampleIndexList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) </span>{<br>                                sampleList.push(samples[sampleIndexList[index]]);<br>                            });<br>                            _context16.next = <span class="hljs-number">38</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindInputSamplesForProcess(project, experiment, process, sampleList);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:<br>                            valOrError = _context16.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindOutputSampleForProcess: "</span> + valOrError.error);<br>                            inputSampleList = valOrError.val;<br>                            assert.isOk(inputSampleList);<br>                            assert.lengthOf(inputSampleList, sampleIndexList.length);<br>                            missingSamples = [];<br>                            sampleList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sample</span>) </span>{<br>                                <span class="hljs-keyword">var</span> found = <span class="hljs-literal">false</span>;<br>                                inputSampleList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">inputSample</span>) </span>{<br>                                    <span class="hljs-keyword">if</span> (sample.id == inputSample.id) {<br>                                        found = <span class="hljs-literal">true</span>;<br>                                    }<br>                                });<br>                                <span class="hljs-keyword">if</span> (!found) {<br>                                    misingSamples.push(sample);<br>                                }<br>                            });<br>                            assert.lengthOf(missingSamples, <span class="hljs-number">0</span>, <span class="hljs-string">"Samples missing from input_samplesa of perocess"</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">46</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context16.stop();<br>                    }<br>                }<br>            }, _callee16, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="69c18c4e-4464-47dc-92e7-b90baae4e725" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find or create the input samples for all Processes
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#69c18c4e-4464-47dc-92e7-b90baae4e725 > .test-code.collapse">Code</button>
              <span class="test-duration slow">461 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee17</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, processes, i, processData, processName, _process4, samples, inputSampleListList, _i5, mapEntry, _processName, indexList, inputSampleList;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee17$</span>(<span class="hljs-params">_context17</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context17.prev = _context17.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context17.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context17.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context17.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context17.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context17.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context17.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            _context17.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            valOrError = _context17.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.processesData.length; i++) {<br>                                processData = demoProjectConf.processesData[i];<br>                                processName = processData.name;<br>                                _process4 = processes[i];<br>                                assert.equal(_process4.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process4.name, processName);<br>                            }<br>                            _context17.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindOutputSamplesForAllProcesses(project, experiment, processes, demoProjectConf.sampleNameData, demoProjectConf.outputSampleIndexMap);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            valOrError = _context17.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindOutputSamplesForAllProcesses: "</span> + valOrError.error);<br>                            samples = valOrError.val;<br>                            assert.isOk(samples);<br>                            assert.lengthOf(samples, demoProjectConf.sampleNameData.length);<br>                            _context17.next = <span class="hljs-number">33</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindInputSamplesForAllProcesses(project, experiment, processes, samples, demoProjectConf.inputSampleIndexMap);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                            valOrError = _context17.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindInputSamplesForAllProcesses: "</span> + valOrError.error);<br>                            inputSampleListList = valOrError.val;<br>                            assert.isOk(inputSampleListList);<br>                            assert.lengthOf(inputSampleListList, demoProjectConf.inputSampleIndexMap.length);<br>                            <span class="hljs-keyword">for</span> (_i5 = <span class="hljs-number">0</span>; _i5 &lt; inputSampleListList.length; _i5++) {<br>                                mapEntry = demoProjectConf.inputSampleIndexMap[_i5];<br>                                _processName = processes[mapEntry.processIndex].name;<br>                                indexList = mapEntry.sampleIndexList;<br>                                inputSampleList = inputSampleListList[_i5];<br>                                assert.lengthOf(inputSampleList, indexList.length, <span class="hljs-string">"Missing samples for process with name: "</span> + _processName);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context17.stop();<br>                    }<br>                }<br>            }, _callee17, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="20bbe880-93fa-46a9-9226-f747229ca348" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              add the setup values for a given Process
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#20bbe880-93fa-46a9-9226-f747229ca348 > .test-code.collapse">Code</button>
              <span class="test-duration slow">583 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee18</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, processes, i, processData, processName, _process5, _i6, _processData, _processName2, _process6, processIndex, process, templateId, templateTable, template, templatePropertyList, templetPropertyTable, processSetupPropertyList, processSetupTable, valuesForSetup, args, updatedProcess, updatedProperties, _i7, probe, updatedPropertyTable;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee18$</span>(<span class="hljs-params">_context18</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context18.prev = _context18.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context18.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context18.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context18.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context18.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context18.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context18.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            _context18.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            valOrError = _context18.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.processesData.length; i++) {<br>                                processData = demoProjectConf.processesData[i];<br>                                processName = processData.name;<br>                                _process5 = processes[i];<br>                                assert.equal(_process5.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process5.name, processName);<br>                            }<br>                            <span class="hljs-comment">// Note: refresh process list. If they were created for the first time on the above call, then the</span><br>                            <span class="hljs-comment">// body of the returned process is not sufficently decorated to support inserting properties;</span><br>                            <span class="hljs-comment">// however, on refresh it is. Needs to be investigated.</span><br>                            _context18.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            valOrError = _context18.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (_i6 = <span class="hljs-number">0</span>; _i6 &lt; demoProjectConf.processesData.length; _i6++) {<br>                                _processData = demoProjectConf.processesData[_i6];<br>                                _processName2 = _processData.name;<br>                                _process6 = processes[_i6];<br>                                assert.equal(_process6.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process6.name, _processName2);<br>                            }<br>                            processIndex = <span class="hljs-number">0</span>;<br>                            process = processes[processIndex];<br>                            templateId = process[<span class="hljs-string">'template_id'</span>];<br>                            _context18.next = <span class="hljs-number">37</span>;<br>                            <span class="hljs-keyword">return</span> helper.makeTemplateTable();<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:<br>                            templateTable = _context18.sent;<br>                            template = templateTable[templateId];<br>                            templatePropertyList = template.setup[<span class="hljs-number">0</span>].properties;<br>                            templetPropertyTable = {};<br>                            templatePropertyList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">property</span>) </span>{<br>                                templetPropertyTable[property.attribute] = property;<br>                            });<br>                            processSetupPropertyList = process.setup[<span class="hljs-number">0</span>].properties;<br>                            processSetupTable = {};<br>                            processSetupPropertyList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">property</span>) </span>{<br>                                processSetupTable[property.attribute] = property;<br>                            });<br>                            assert.lengthOf(templatePropertyList, processSetupPropertyList.length, <span class="hljs-string">"Lengths of property-list in process and template should match"</span>);<br>                            processSetupPropertyList.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">check</span>) </span>{<br>                                assert.ok(templetPropertyTable[check.attribute], <span class="hljs-string">"unexpected property attribute in process: "</span> + check.attribute);<br>                                assert.equal(templetPropertyTable[check.attribute].otype, check.otype, <span class="hljs-string">"Type mismatch for property with attribute: "</span> + check.attribute);<br>                            });<br>                            valuesForSetup = demoProjectConf.processesData[processIndex].properties;<br>                            args = [];<br>                            valuesForSetup.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">setupValue</span>) </span>{<br>                                <span class="hljs-keyword">var</span> property = processSetupTable[setupValue.attribute];<br>                                <span class="hljs-keyword">if</span> (property) {<br>                                    property.setup_attribute = <span class="hljs-string">"instrument"</span>;<br>                                    property.value = setupValue.value;<br>                                    <span class="hljs-keyword">if</span> (setupValue.unit) {<br>                                        property.unit = setupValue.unit;<br>                                    }<br>                                    args.push(property);<br>                                } <span class="hljs-keyword">else</span> {<br>                                    assert.fail(<span class="hljs-string">"Template is missing expected attribute: "</span> + setupValue.attribute);<br>                                }<br>                            });<br>                            _context18.next = <span class="hljs-number">52</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProcessSetupProperties(project, experiment, process, args);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">52</span>:<br>                            valOrError = _context18.sent;<br>                            <span class="hljs-keyword">if</span> (valOrError.error) {<br>                                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"           Error expanded from setup properties: "</span>, (<span class="hljs-number">0</span>, _stringify2.default)(valOrError.error));<br>                            }<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoSetupProperties: "</span> + valOrError.error);<br>                            updatedProcess = valOrError.val;<br>                            assert.equal(process.id, updatedProcess.id, <span class="hljs-string">'Updated process for \''</span> + process.name + <span class="hljs-string">'\''</span>);<br>                            updatedProperties = updatedProcess.setup[<span class="hljs-number">0</span>].properties;<br>                            _context18.next = <span class="hljs-number">60</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">60</span>:<br>                            valOrError = _context18.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (_i7 = <span class="hljs-number">0</span>; _i7 &lt; demoProjectConf.processesData.length; _i7++) {<br>                                probe = processes[_i7];<br>                                <span class="hljs-keyword">if</span> (probe.id == process.id) {<br>                                    updatedProcess = probe;<br>                                    updatedProperties = probe.setup[<span class="hljs-number">0</span>].properties;<br>                                }<br>                            }<br>                            assert.equal(process.id, updatedProcess.id, <span class="hljs-string">'Updated process for \''</span> + process.name + <span class="hljs-string">'\''</span>);<br>                            updatedPropertyTable = {};<br>                            updatedProperties.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">property</span>) </span>{<br>                                updatedPropertyTable[property.attribute] = property;<br>                            });<br>                            valuesForSetup.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">setupValue</span>) </span>{<br>                                <span class="hljs-keyword">var</span> property = updatedPropertyTable[setupValue.attribute];<br>                                <span class="hljs-keyword">if</span> (property) {<br>                                    <span class="hljs-keyword">if</span> (property.value.name) {<br>                                        assert.ok(property.value.value);<br>                                        assert.ok(setupValue.value.name);<br>                                        assert.ok(setupValue.value.value);<br>                                        assert.equal(property.value.name, setupValue.value.name);<br>                                        assert.equal(property.value.value, setupValue.value.value);<br>                                    } <span class="hljs-keyword">else</span> {<br>                                        assert.equal(property.value, setupValue.value, <span class="hljs-string">"Value for process "</span> + process.name + <span class="hljs-string">" property with attribute"</span> + setupValue.attribute);<br>                                    }<br>                                    <span class="hljs-keyword">if</span> (setupValue.unit) {<br>                                        assert.equal(property.unit, setupValue.unit, <span class="hljs-string">"Unit for process "</span> + process.name + <span class="hljs-string">" property with attribute"</span> + setupValue.attribute);<br>                                    }<br>                                } <span class="hljs-keyword">else</span> {<br>                                    assert.fail(<span class="hljs-string">"Process "</span> + process.name + <span class="hljs-string">" is missing expected setup value attribute: "</span> + setupValue.attribute);<br>                                }<br>                            });<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">70</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context18.stop();<br>                    }<br>                }<br>            }, _callee18, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7156f7ac-0c19-4288-9123-a68176c5b092" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              add the setup values for all Processes
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7156f7ac-0c19-4288-9123-a68176c5b092 > .test-code.collapse">Code</button>
              <span class="test-duration slow">912 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee19</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, processes, i, processData, processName, _process7, _i8, _processData2, _processName3, _process8, processIndex, updatedProcess, updatedProperties, valuesForSetup;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee19$</span>(<span class="hljs-params">_context19</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context19.prev = _context19.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context19.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context19.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context19.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context19.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context19.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context19.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            _context19.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            valOrError = _context19.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.processesData.length; i++) {<br>                                processData = demoProjectConf.processesData[i];<br>                                processName = processData.name;<br>                                _process7 = processes[i];<br>                                assert.equal(_process7.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process7.name, processName);<br>                            }<br>                            <span class="hljs-comment">// Note: refresh process list. If they were created for the first time on the above call, then the</span><br>                            <span class="hljs-comment">// body of the returned process is not sufficently decorated to support inserting properties;</span><br>                            <span class="hljs-comment">// however, on refresh it is. Needs to be investigated.</span><br>                            _context19.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            valOrError = _context19.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.ok(processes);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (_i8 = <span class="hljs-number">0</span>; _i8 &lt; demoProjectConf.processesData.length; _i8++) {<br>                                _processData2 = demoProjectConf.processesData[_i8];<br>                                _processName3 = _processData2.name;<br>                                _process8 = processes[_i8];<br>                                assert.equal(_process8.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process8.name, _processName3);<br>                            }<br>                            _context19.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindSetupPropertiesForAllDemoProcesses(project, experiment, processes);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            valOrError = _context19.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindSetupPropertiesForAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (processIndex = <span class="hljs-number">0</span>; processIndex &lt; processes.length; processIndex++) {<br>                                updatedProcess = processes[processIndex];<br>                                updatedProperties = updatedProcess.setup[<span class="hljs-number">0</span>].properties;<br>                                valuesForSetup = demoProjectConf.processesData[processIndex].properties;<br>                                <span class="hljs-keyword">if</span> (valuesForSetup &amp;&amp; valuesForSetup.length &lt; <span class="hljs-number">0</span>) {<br>                                    (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{<br>                                        <span class="hljs-keyword">var</span> updatedPropertyTable = {};<br>                                        updatedProperties.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">property</span>) </span>{<br>                                            updatedPropertyTable[property.attribute] = property;<br>                                        });<br>                                        valuesForSetup.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">setupValue</span>) </span>{<br>                                            <span class="hljs-keyword">var</span> property = updatedPropertyTable[setupValue.attribute];<br>                                            <span class="hljs-keyword">if</span> (property) {<br>                                                assert.equal(property.value, setupValue.value, <span class="hljs-string">"Value for process "</span> + process.name + <span class="hljs-string">" property with attribute"</span> + setupValue.attribute);<br>                                                <span class="hljs-keyword">if</span> (setupValue.unit) {<br>                                                    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"unit - "</span> + setupValue.attribute + <span class="hljs-string">': '</span> + property.unit);<br>                                                    assert.equal(property.unit, setupValue.unit, <span class="hljs-string">"Unit for process "</span> + process.name + <span class="hljs-string">" property with attribute"</span> + setupValue.attribute);<br>                                                }<br>                                            } <span class="hljs-keyword">else</span> {<br>                                                assert.fail(<span class="hljs-string">"Process "</span> + process.name + <span class="hljs-string">" is missing expected setup value attribute: "</span> + setupValue.attribute);<br>                                            }<br>                                        });<br>                                    })();<br>                                }<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context19.stop();<br>                    }<br>                }<br>            }, _callee19, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="07ab7018-582e-4d7b-ac6c-dc08123a0c51" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              add the measurement values for the only Process with a measurement
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#07ab7018-582e-4d7b-ac6c-dc08123a0c51 > .test-code.collapse">Code</button>
              <span class="test-duration slow">375 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee20</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, mapEntry, processName, templateId, process, sampleIndexList, sampleNames, i, samples, _i9, _sample, name, processData, measurement, sample, updatedProcess, updatedmeasurement, _i10;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee20$</span>(<span class="hljs-params">_context20</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context20.prev = _context20.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context20.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context20.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context20.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context20.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context20.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            valOrError = _context20.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            _context20.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            valOrError = _context20.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            mapEntry = demoProjectConf.outputSampleIndexMap[<span class="hljs-number">0</span>];<br>                            processData = demoProjectConf.processesData[mapEntry.processIndex];<br>                            processName = processData.name;<br>                            templateId = processData.templateId;<br>                            _context20.next = <span class="hljs-number">26</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProcess(project, experiment, processName, templateId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">26</span>:<br>                            valOrError = _context20.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProcess: "</span> + valOrError.error);<br>                            process = valOrError.val;<br>                            sampleIndexList = mapEntry.sampleIndexList;<br>                            sampleNames = [];<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; sampleIndexList.length; i++) {<br>                                sampleNames.push(demoProjectConf.sampleNameData[sampleIndexList[i]]);<br>                            }<br>                            _context20.next = <span class="hljs-number">34</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindProcessOutputSamples(project, experiment, process, sampleNames);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">34</span>:<br>                            valOrError = _context20.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindProcessOutputSamples: "</span> + valOrError.error);<br>                            samples = valOrError.val;<br>                            assert.isOk(samples);<br>                            assert.lengthOf(samples, sampleNames.length);<br>                            <span class="hljs-keyword">for</span> (_i9 = <span class="hljs-number">0</span>; _i9 &lt; sampleNames.length; _i9++) {<br>                                _sample = samples[_i9];<br>                                name = sampleNames[_i9];<br>                                assert.equal(name, _sample.name);<br>                            }<br>                            _context20.next = <span class="hljs-number">42</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProcess(project, experiment, processName, templateId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">42</span>:<br>                            valOrError = _context20.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProcess: "</span> + valOrError.error);<br>                            process = valOrError.val;<br>                            processData = demoProjectConf.processesData[<span class="hljs-number">0</span>];<br>                            measurement = processData.measurements[<span class="hljs-number">0</span>];<br>                            _context20.next = <span class="hljs-number">49</span>;<br>                            <span class="hljs-keyword">return</span> helper.updateMeasurementForProcessSamples(process, measurement);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">49</span>:<br>                            valOrError = _context20.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindMeasurement: "</span> + valOrError.error);<br>                            samples = valOrError.val;<br>                            sample = samples[<span class="hljs-number">0</span>];<br>                            updatedProcess = <span class="hljs-literal">null</span>;<br>                            sample.processes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">probe</span>) </span>{<br>                                <span class="hljs-keyword">if</span> (probe.id == process.id) {<br>                                    updatedProcess = probe;<br>                                }<br>                            });<br>                            updatedmeasurement = updatedProcess.measurements[<span class="hljs-number">0</span>];<br>                            assert.equal(measurement.attribute, updatedmeasurement.attribute);<br>                            assert.equal(measurement.name, updatedmeasurement.name);<br>                            assert.equal(measurement.otype, updatedmeasurement.otype);<br>                            assert.equal(measurement.unit, updatedmeasurement.unit);<br>                            assert.lengthOf(updatedmeasurement.value, measurement.value.length);<br>                            <span class="hljs-keyword">for</span> (_i10 = <span class="hljs-number">0</span>; _i10 &lt; measurement.value.length; _i10++) {<br>                                assert.equal(updatedmeasurement.value[_i10].element, measurement.value[_i10].element);<br>                                assert.equal(updatedmeasurement.value[_i10].value, measurement.value[_i10].value);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">62</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context20.stop();<br>                    }<br>                }<br>            }, _callee20, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="644afcf2-8900-4e56-8db7-dc7279e909bc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              find and attache the demo-project files to project
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#644afcf2-8900-4e56-8db7-dc7279e909bc > .test-code.collapse">Code</button>
              <span class="test-duration slow">1.350 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee21</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, files, missingFiles;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee21$</span>(<span class="hljs-params">_context21</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context21.prev = _context21.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context21.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context21.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context21.next = <span class="hljs-number">6</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                            valOrError = _context21.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            _context21.next = <span class="hljs-number">12</span>;<br>                            <span class="hljs-keyword">return</span> helper.addAllFilesToProject(user, project, demoProjectConf.datapathPrefix);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:<br>                            _context21.next = <span class="hljs-number">14</span>;<br>                            <span class="hljs-keyword">return</span> helper.filesForProject(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">14</span>:<br>                            files = _context21.sent;<br>                            assert.lengthOf(files, helper.filesDescriptions().length);<br>                            _context21.next = <span class="hljs-number">18</span>;<br>                            <span class="hljs-keyword">return</span> helper.filesMissingInDatabase(project, demoProjectConf.datapathPrefix);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">18</span>:<br>                            missingFiles = _context21.sent;<br>                            assert.lengthOf(missingFiles, <span class="hljs-number">0</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context21.stop();<br>                    }<br>                }<br>            }, _callee21, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="03d5a791-8e5f-497e-8974-f7f24de7e760" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              add the demo-project files to the experiment
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#03d5a791-8e5f-497e-8974-f7f24de7e760 > .test-code.collapse">Code</button>
              <span class="test-duration slow">886 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee22</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, project, experiment, files, i, checksum, file, processes, updatedProcesses, _loop, processIndex;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee22$</span>(<span class="hljs-params">_context22</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context22.prev = _context22.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            _context22.next = <span class="hljs-number">2</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                            user = _context22.sent;<br>                            _context22.next = <span class="hljs-number">5</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectForUser(user);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br>                            valOrError = _context22.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            project = valOrError.val;<br>                            _context22.next = <span class="hljs-number">10</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindDemoProjectExperiment(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:<br>                            valOrError = _context22.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindDemoProjectExperiment: "</span> + valOrError.error);<br>                            experiment = valOrError.val;<br>                            _context22.next = <span class="hljs-number">15</span>;<br>                            <span class="hljs-keyword">return</span> helper.addAllFilesToProject(user, project, demoProjectConf.datapathPrefix);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">15</span>:<br>                            _context22.next = <span class="hljs-number">17</span>;<br>                            <span class="hljs-keyword">return</span> helper.filesForProject(project);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">17</span>:<br>                            files = _context22.sent;<br>                            assert.lengthOf(files, demoProjectConf.checksumsFilesAndMimiTypes.length, <span class="hljs-string">"Files set is complete"</span>);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.checksumsFilesAndMimiTypes.length; i++) {<br>                                checksum = demoProjectConf.checksumsFilesAndMimiTypes[i][<span class="hljs-number">0</span>];<br>                                file = files[i];<br>                                assert.equal(checksum, file.checksum, <span class="hljs-string">'Checksum for file: \''</span> + file.name + <span class="hljs-string">'\''</span>);<br>                            }<br>                            _context22.next = <span class="hljs-number">22</span>;<br>                            <span class="hljs-keyword">return</span> helper.createOrFindAllDemoProcesses(project, experiment);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">22</span>:<br>                            valOrError = _context22.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createOrFindAllDemoProcesses: "</span> + valOrError.error);<br>                            processes = valOrError.val;<br>                            _context22.next = <span class="hljs-number">27</span>;<br>                            <span class="hljs-keyword">return</span> helper.addAllFilesToExperimentProcesses(project, experiment, processes, files);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:<br>                            valOrError = _context22.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from addAllFilesToExperimentProcesses: "</span> + valOrError.error);<br>                            updatedProcesses = valOrError.val;<br>                            assert.lengthOf(updatedProcesses, processes.length, <span class="hljs-string">"Processes with files added"</span>);<br>                            _loop = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_loop</span>(<span class="hljs-params">processIndex</span>) </span>{<br>                                <span class="hljs-keyword">var</span> process = updatedProcesses[processIndex];<br>                                <span class="hljs-keyword">var</span> fileIndexes = demoProjectConf.processFileIndexList[processIndex];<br>                                <span class="hljs-keyword">var</span> expectedFiles = [];<br>                                fileIndexes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) </span>{<br>                                    expectedFiles.push(files[index]);<br>                                });<br>                                <span class="hljs-keyword">var</span> processFileTable = {};<br>                                <span class="hljs-keyword">var</span> processFiles = process.files;<br>                                processFiles.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">file</span>) </span>{<br>                                    processFileTable[file.checksum] = file;<br>                                });<br>                                expectedFiles.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">expectedFile</span>) </span>{<br>                                    <span class="hljs-keyword">var</span> matchingFile = processFileTable[expectedFile.checksum];<br>                                    assert.ok(matchingFile, <span class="hljs-string">'Expecting file \''</span> + expectedFile.name + <span class="hljs-string">'\' in process \''</span> + process.name + <span class="hljs-string">'\''</span>);<br>                                    assert.equal(expectedFile.id, matchingFile.id);<br>                                });<br>                            };<br>                            <span class="hljs-keyword">for</span> (processIndex = <span class="hljs-number">0</span>; processIndex &lt; demoProjectConf.processFileIndexList.length; processIndex++) {<br>                                _loop(processIndex);<br>                            }<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">33</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context22.stop();<br>                    }<br>                }<br>            }, _callee22, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="c7dd15f6-e338-4a04-b460-e7c5cd84cb6c" class="suite has-tests has-passed">
            <h3 class="suite-title">Complete demo project</h3>
            <h5 class="suite-filename">/backend/tests/mcapi/Resource-level/specs/build-demo-project-spec.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="c7dd15f6-e338-4a04-b460-e7c5cd84cb6c" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">1.930 s</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#c7dd15f6-e338-4a04-b460-e7c5cd84cb6c-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="c7dd15f6-e338-4a04-b460-e7c5cd84cb6c-test-list" class="list-group test-list collapse in">
                    <div id="34aba16d-09c4-4d56-b292-17f3d1a7de92" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              buid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#34aba16d-09c4-4d56-b292-17f3d1a7de92 > .test-code.collapse">Code</button>
              <span class="test-duration slow">1.930 s</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee23</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> user, valOrError, results, project, experiment, processes, samples, files, i, processData, processName, _process9, _i11, sample, name, missingFiles;<br>            <span class="hljs-keyword">return</span> _regenerator2.default.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_callee23$</span>(<span class="hljs-params">_context23</span>) </span>{<br>                <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {<br>                    <span class="hljs-keyword">switch</span> (_context23.prev = _context23.next) {<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<br>                            <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">5000</span>); <span class="hljs-comment">// this test can take up to 5 seconds</span><br>                            _context23.next = <span class="hljs-number">3</span>;<br>                            <span class="hljs-keyword">return</span> dbModelUsers.getUser(demoProjectTestUserId);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                            user = _context23.sent;<br>                            assert.equal(user.id, demoProjectTestUserId);<br>                            _context23.next = <span class="hljs-number">7</span>;<br>                            <span class="hljs-keyword">return</span> buildDemoProject.findOrBuildAllParts(user, demoProjectConf.datapathPrefix);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                            valOrError = _context23.sent;<br>                            assert.isUndefined(valOrError.error, <span class="hljs-string">"Unexpected error from createDemoProjectForUser: "</span> + valOrError.error);<br>                            results = valOrError.val;<br>                            project = results.project;<br>                            experiment = results.experiment;<br>                            processes = results.processes;<br>                            samples = results.samples;<br>                            files = results.files;<br>                            assert.equal(project.name, demoProjectConf.demoProjectName);<br>                            assert(project.description.includes(demoProjectConf.demoProjectDescription));<br>                            assert.equal(project.owner, demoProjectTestUserId);<br>                            assert.equal(experiment.name, demoProjectConf.demoProjectExperimentName);<br>                            assert(experiment.description.includes(demoProjectConf.demoProjectExperimentDescription));<br>                            assert.equal(experiment.owner, demoProjectTestUserId);<br>                            assert.lengthOf(processes, demoProjectConf.processesData.length);<br>                            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; demoProjectConf.processesData.length; i++) {<br>                                processData = demoProjectConf.processesData[i];<br>                                processName = processData.name;<br>                                _process9 = processes[i];<br>                                assert.equal(_process9.otype, <span class="hljs-string">"process"</span>);<br>                                assert.equal(_process9.name, processName);<br>                            }<br>                            assert.lengthOf(samples, demoProjectConf.sampleNameData.length);<br>                            <span class="hljs-keyword">for</span> (_i11 = <span class="hljs-number">0</span>; _i11 &lt; demoProjectConf.sampleNameData.length; _i11++) {<br>                                sample = samples[_i11];<br>                                name = demoProjectConf.sampleNameData[_i11];<br>                                assert.equal(name, sample.name);<br>                            }<br>                            assert.lengthOf(files, helper.filesDescriptions().length);<br>                            _context23.next = <span class="hljs-number">28</span>;<br>                            <span class="hljs-keyword">return</span> helper.filesMissingInDatabase(project, demoProjectConf.datapathPrefix);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">28</span>:<br>                            missingFiles = _context23.sent;<br>                            assert.lengthOf(missingFiles, <span class="hljs-number">0</span>);<br>                        <span class="hljs-keyword">case</span> <span class="hljs-number">30</span>:<br>                        <span class="hljs-keyword">case</span> <span class="hljs-string">'end'</span>:<br>                            <span class="hljs-keyword">return</span> _context23.stop();<br>                    }<br>                }<br>            }, _callee23, <span class="hljs-keyword">this</span>);</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
    </div>

    <footer>
      <div class="container">
        <p>Report generated by <a href="http://adamgruber.github.io/mochawesome/" target="_blank">mochawesome</a>.<br>Designed and built by <a href="https://github.com/adamgruber" target="_blank">adamgruber</a>. &copy;2017.</p>
      </div>
    </footer>

    <!-- Nav Menu -->
    <div class="nav-menu-wrap">
      <div class="menu-overlay close-menu"></div>
      <nav class="menu">
        <button class="nav-menu-btn close-menu"><i class="icon-failed"></i></button>
        <ul class="list-unstyled main-menu">
                <li class="nav-menu-item">
                <a href="#273f4995-e2b3-4a38-a03b-2dd2633e7deb" class="nav-menu-item-link">Feature - Dataset: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#c307aea1-cf8b-43f2-97cc-477d123d3000" class="nav-menu-item-link has-pending">DOI Request - </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#e0e8150a-9879-4ef4-98cb-a40b4bba8c0b" class="nav-menu-item-link">Feature - dataset: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#bc287706-d226-4af6-9ea1-bd57965812d7" class="nav-menu-item-link has-passes">Delete Dataset: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#5a0a2ca5-7389-423c-828c-678f6ce9e61d" class="nav-menu-item-link">Feature - directories: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#dc9e0d01-c58a-4651-b590-d5ba4ce6e760" class="nav-menu-item-link has-passes">Top level directory</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#807900d9-31d7-4202-bbdd-a4bd9fbb02ce" class="nav-menu-item-link has-passes">Create directory</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#10e715ee-b8d6-48fa-86eb-346efe502754" class="nav-menu-item-link has-passes">Get directories</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#58030eb7-6c04-4886-b86b-7bfda8378e44" class="nav-menu-item-link has-passes">Modify directory</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#e3957e3f-34df-4005-b9df-ed411f52d9f3" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#124a6d4e-d7fc-41a0-ae71-8b6b78208220" class="nav-menu-item-link has-passes">Delete Experiment - in parts: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#59a22eed-8a28-4bfe-9a97-3a5267312843" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#e38a4ab2-ecc2-4eea-98a3-bb0d3ad5c7a9" class="nav-menu-item-link has-passes">Delete Experiment - complex case: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#ac4c72db-db9c-4d0d-98ea-127aa69136e6" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#3e9e0eb3-7ac0-4bee-ba25-5ed4d5715cdf" class="nav-menu-item-link has-passes">Delete Experiment - complex case: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#73a5b92a-aa31-4d13-9f81-40d042bc4bea" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#a95b300c-68c7-4bf4-a80d-a5337cd1b66e" class="nav-menu-item-link has-passes">Delete Experiment - in parts: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#cc84a8ea-f003-461c-a1b0-2a8bfe058a56" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#8bc21985-7e12-43c2-8815-6b736b3a9fd4" class="nav-menu-item-link has-passes">Delete Experiment - basic parts: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#e8795984-6644-4c9f-8a19-a0d9923d47a8" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#13e14486-efa7-45e0-b959-4c2adf3897f9" class="nav-menu-item-link has-passes">Delete Experiment - in parts: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#5fd8a72d-59ef-4ac6-9c13-c9cb87d539f6" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#a92f98b9-a270-4f4a-bcb2-da82e042cc14" class="nav-menu-item-link has-passes">Delete Experiment - in parts: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#8f28c5de-96bc-4588-90b0-24325ebb8eeb" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#32e3e6b5-685f-484b-8f2f-bb311f886f39" class="nav-menu-item-link has-passes">Delete Experiment - in parts: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#185ae4d6-7044-4f68-a348-783920a82554" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#fa043b6a-2cbc-4deb-81c3-bf7ed219785f" class="nav-menu-item-link has-passes">Delete Experiment: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#8eeb135b-5554-4aeb-b806-5a8f7ed69f92" class="nav-menu-item-link">Feature - Experiments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#11b90a72-ee4f-4fc7-99d1-8155cd675aeb" class="nav-menu-item-link has-pending">Function level</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#bdcf6f0e-8cfc-431f-8efe-a3daa5ff8a2b" class="nav-menu-item-link">Feature - Files: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#042222f8-f54a-4907-bab3-a269a10f82d6" class="nav-menu-item-link has-pending">Delete</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#15552105-fc0e-4480-b273-68810da4cd66" class="nav-menu-item-link">Feature - Files: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b8dbce0c-a541-43ed-9b64-fd4758286841" class="nav-menu-item-link has-passes">Get File Information</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#c8e0ffdc-4082-4d32-bc14-78b72055a484" class="nav-menu-item-link has-passes">File Update</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#f7fae093-378f-4208-9a4d-95a9e8eeaf8f" class="nav-menu-item-link">Feature - Files: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#5710bd7b-a319-4143-a7a0-8bbc5a6e31d5" class="nav-menu-item-link has-passes">Versioning</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#792da77b-ed17-437d-9b9a-332e5640f1d3" class="nav-menu-item-link">Feature - Files: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#fd12e689-51f0-4fee-ad4f-99ed5b35cf32" class="nav-menu-item-link has-passes">Versioning</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#de24c4ae-d74c-40a4-bd7d-2ef0785bbb7d" class="nav-menu-item-link">Feature - Measurments: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#15b33842-9fdb-4bd6-8db4-f2c40443ad0a" class="nav-menu-item-link has-pending">Function level</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#01dc5dbb-61dc-4cdf-9277-01ea9478bac8" class="nav-menu-item-link">Feature - Processes: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#64a0d1f1-b03c-4b3f-959e-30f3ed614c20" class="nav-menu-item-link has-passes">Function level</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#2d333106-4708-407a-a12b-52534bb1745d" class="nav-menu-item-link">Feature - Projects: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#3bbde55c-8589-4d70-b76a-9af27ac59460" class="nav-menu-item-link has-passes">Delete Project: </a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#5984c3a2-f39c-490b-bd81-13f26609db9d" class="nav-menu-item-link">Feature - projects: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#54761fec-7206-469f-88f7-7c11efed28af" class="nav-menu-item-link has-passes">Create project</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#f934f047-f029-47c4-9894-a58df5bfad04" class="nav-menu-item-link has-passes">Update project</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#d19732a1-d4d6-455f-ad62-9c1e053de576" class="nav-menu-item-link">Feature - Properties: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#5d3b927d-acba-4370-87e0-7c43b8597bb8" class="nav-menu-item-link has-pending">Function level</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#de87537d-6d4d-469d-aee2-f448fcb33b44" class="nav-menu-item-link">Feature - reset lost password: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7f661cf5-3c43-4d52-836c-b2db4069d1e9" class="nav-menu-item-link has-passes">User with reset_password flag</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#ef4d0725-fee3-4318-b510-93e88ea8a3a1" class="nav-menu-item-link">Feature - Samples: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#6fdf4d06-f29d-4db0-adcb-680176e87613" class="nav-menu-item-link has-passes">Create Sample</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#4cf24255-4692-400d-abbe-dc29f9615e54" class="nav-menu-item-link">Feature - Samples: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#278aead4-1aaa-44d3-b2a2-2681ecf1a661" class="nav-menu-item-link has-passes">Get Samples</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#3baa0881-0522-4918-a6f0-4e8a681ed03d" class="nav-menu-item-link">Feature - Templates: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#656aaefa-f1fa-4772-9651-1bef4fb0c7c7" class="nav-menu-item-link has-pending">Function level</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#2a170c53-5ec8-4969-b78c-05b27ec9befa" class="nav-menu-item-link">Feature - Users: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#35b97aba-8025-4ac2-8bdc-5e9dd400a6ac" class="nav-menu-item-link has-passes">Standard Test Users</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#ec285e69-04f1-49d8-b350-6dc9e8021f62" class="nav-menu-item-link has-passes">User Profile</a>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#a677375d-4e96-4964-874a-d22832f08694" class="nav-menu-item-link">Feature - User - Build Demo Project Support: </a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#5f6627d1-dd6c-4b8f-a16f-6fb848d054e7" class="nav-menu-item-link has-passes">User for test</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#f356d1fa-05bb-48fd-a2da-9c107caa8c64" class="nav-menu-item-link has-passes">List of files for build</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#68d9b79d-496b-4689-97c1-0a2e922b6cb9" class="nav-menu-item-link has-passes">Build Demo Project helper supporting functions</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#645a6bf7-eca9-490f-9ca1-c7379067a38a" class="nav-menu-item-link has-passes">Build Demo Project helper main functions</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#c7dd15f6-e338-4a04-b460-e7c5cd84cb6c" class="nav-menu-item-link has-passes">Complete demo project</a>
            </li>
                  </ul>
            </li>
        </ul>
      </nav>
    </div>

    <!-- Scripts -->
    <script src="js/vendor.js"></script>
    <script src="js/mochawesome.js"></script>
  </body>
</html>
